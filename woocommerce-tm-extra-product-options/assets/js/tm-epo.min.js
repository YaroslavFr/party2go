!function(k,F,Ft){"use strict";var b,o,m,e,Ct={},It=k.TMEPOJS,a=k.wp,i=k.TMEPOQTRANSLATEXJS,_=k.noUiSlider,r=k.ClipboardEvent,n=k.DataTransfer,C=[],l=[],g=!1,h=!1,I=Ft("body"),Pt=Ft(k),P=Ft(F),A=Ft(k),w=k.tcmexp,E=k._,c=Ft.fn.val;function S(t,e,a,i,o,r,n){var c,l,d,s,p,m,_,f,u;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(c=e.attr("data-taxable"),l=e.attr("data-tax-rate"),d=e.attr("data-prices-include-tax")||It.prices_include_tax,s=e.attr("data-is-vat-exempt"),p=e.attr("data-non-base-location-prices"),m=e.attr("data-taxes-of-one"),_=e.attr("data-base-taxes-of-one"),f=e.attr("data-modded-taxes-of-one"),void 0!==e.data("current_variation")?u=e.data("current_variation"):void 0!==o&&(u=o),void 0!==u&&(c=(u=e.data("current_variation")).tc_is_taxable,l=u.tc_tax_rate,p=u.tc_non_base_location_prices,m=u.tc_taxes_of_one,_=u.tc_base_taxes_of_one,f=u.tc_modded_taxes_of_one),a&&a.data("tax-obj")&&("no"===(l=a.data("tax-obj")).has_fee?c=!1:"yes"===l.has_fee&&(c=!0),_=m=(l=l.tax_rate)/100),c&&("1"!==d||i?(a||void 0===u||n)&&(t=parseFloat(t)+parseFloat(t)*m):"1"===s?t="1"===p?parseFloat(t)-m*t:parseFloat(t)-_*t:"1"===p&&(t=parseFloat(t)-_*t+f*t))),t/=1e4}function q(t,e,a,i,o,r,n){var c,l,d,s,p,m;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(m=e.attr("data-tax-display-mode"),c=e.attr("data-taxable"),l=e.attr("data-tax-rate"),d=e.attr("data-taxes-of-one"),s=e.attr("data-prices-include-tax"),void 0!==e.data("current_variation")?p=e.data("current_variation"):void 0!==o&&(p=o),void 0!==p&&(c=p.tc_is_taxable,l=p.tc_tax_rate,d=p.tc_taxes_of_one),a&&a.data("tax-obj")&&("no"===(l=a.data("tax-obj")).has_fee?c=!1:"yes"===l.has_fee&&(c=!0),l=l.tax_rate),c&&("1"!==s&&!i||"incl"===m||(a||void 0===p||i||n)&&(t=parseFloat(t)-parseFloat(d*t)))),t/=1e4}function At(t,e,a,i,o,r,n){return Number.isFinite(parseFloat(t))||(t=0),t=e?("incl"===(e.attr("data-tax-display-mode")||It.tax_display_mode)?S:q)(t,e,a,o,r,0,n):t}function Et(t,e){e=Ft.extend({symbol:"",format:"",decimal:Ct.localDecimalSeparator,thousand:Ct.localThousandSeparator,precision:It.currency_format_num_decimals},e=e||{});return Ft.epoAPI.applyFilter("tc_formatPrice",Ft.epoAPI.math.format(t,e),e,t)}function d(t,e,a){return e+Et(t,{symbol:It.currency_format_symbol,format:It.currency_format})+a}function St(t,e,a,i,o,r){var n="",c=It.option_plus_sign+" ";return a||(t=At(t,e,o)),o=Math.abs(t),"minus"===It.tm_epo_global_options_price_sign&&(c=""),d(o,c=t<0?It.option_minus_sign+" ":c,n=void 0===(n=e&&i?e.attr("data-tax-string"):n)?"":n)}function qt(t){var e="input[name^='variation_id']";return e=0<t.find("input.variation_id").length?"input.variation_id":e}function Tt(t){var e=t.find(Ct.qtySelector).last();return e=0===e.length?t.find(Ct.associateQtySelector).last():e}function s(t,e,a){C[C.length]={name:t,selector:e,func:a}}function T(t,e,a){var i,o,r,n;return(t=Ft(t)).is(".cpf-element")?t=(i=t).find(".tmcp-field, .tmcp-fee-field"):i=t.closest(".cpf-element"),o=a?t.closest(".tmcp-ul-wrap"):i,(a=i.closest(".cpf-type-product"))&&(r=a.data("isactive"),n=(a=a.closest(".cpf-section")).data("isactive")),!1!==r&&!1!==n&&!1!==i.data("isactive")&&!1!==i.closest(".cpf-section").data("isactive")?(n=t.first(),t.prop("disabled",!1),"yes"!==It.tm_epo_show_only_active_quantities?n.is(":radio, .cpf-type-radio")||n.is(":checkbox, .cpf-type-checkbox")?(t.filter(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!1),t.not(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!0)):(n.is("select, .cpf-type-select, .cpf-type-selectmultiple"),n.val()?o.find(".tm-qty").prop("disabled",!1):o.find(".tm-qty").prop("disabled",!0)):e||i.find(".tm-quantity").trigger("showhide.cpfcustom"),n.is(".cpf-element")||(t.removeClass("tcdisabled").addClass("tcenabled"),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),i.removeClass("tc-container-disabled").addClass("tc-container-enabled"),t.trigger({type:"tm-field-is-active",field:t,value:!0}),!0):(t.is(".cpf-element")||(t.prop("disabled",!0).removeClass("tcenabled").addClass("tcdisabled"),i.find(".tm-qty").prop("disabled",!0),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),i.removeClass("tc-container-enabled").addClass("tc-container-disabled"),t.trigger({type:"tm-field-is-active",field:t,value:!1}),!1)}function p(t,e,a){if(null===t||null===e)return!1;switch(t=encodeURIComponent(t),e=Ft.qtranxj_split?encodeURIComponent(Ft.qtranxj_split(decodeURIComponent(e))[i.language]):encodeURIComponent(decodeURIComponent(e)),t=t?t.toLowerCase():"",e=e?e.toLowerCase():"",t=t.toString(),e=e.toString(),a){case"is":return null!==t&&t===e;case"isnot":return null!==t&&t!==e;case"isempty":return!("undefined"!==t&&void 0!==t&&""!==t);case"isnotempty":return"undefined"!==t&&void 0!==t&&""!==t;case"startswith":return t.startsWith(e);case"endswith":return t.endsWith(e);case"greaterthan":return parseFloat(t)>parseFloat(e);case"lessthan":return parseFloat(t)<parseFloat(e);case"greaterthanequal":return parseFloat(t)>=parseFloat(e);case"lessthanequal":return parseFloat(t)<=parseFloat(e)}return!1}function O(t){var a,e,i,o=Ft(t.element),r=t.operator,n=t.value,c=!1,l="";if(o.length){if(o.is(".cpf-section"))return function(t,o){var r,n,c=!0,e=t.find(".cpf-element"),l=!1;if(t.is(".tc-hidden")){if("isnotempty"===o)return;if("isempty"===o)return 1}return Ft(e).each(function(t,e){var a,i="";if((e=Ft(e)).is(".cpf-type-product")&&(i=":not(.tc-extra-product-options-inline .tm-epo-field)"),T(e))if(0<(a=e.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length){switch("cpf-type-product"===(a=a[0])&&(l=!0,a=e.is(".cpf-type-product-mode-product")||e.is(".cpf-type-product-checkbox")||e.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":e.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),a){case"cpf-type-radio":n=e.find("input.tm-epo-field.tmcp-radio:checked"+i),"isnotempty"===o?(c=c&&0<n.length,0<n.length&&(r=n.length)):"isempty"===o&&(c=c&&0===n.length);break;case"cpf-type-checkbox":n=e.find("input.tm-epo-field.tmcp-checkbox:checked"+i),"isnotempty"===o?(c=c&&0<n.length,0<n.length&&(r=n.length)):"isempty"===o&&(c=c&&0===n.length);break;case"cpf-type-select":(r=e.find("select.tm-epo-field.tmcp-select"+i).val())&&!l&&(r=r.slice(0,r.lastIndexOf("_")));break;case"cpf-type-selectmultiple":(r=e.find("select.tm-epo-field.tmcp-selectmultiple"+i).val())&&!l&&r.forEach(function(t,e){r[e]=t.slice(0,t.lastIndexOf("_"))});break;case"cpf-type-textarea":r=e.find("textarea.tm-epo-field.tmcp-textarea"+i).val();break;case"cpf-type-textfield":r=e.find("input.tm-epo-field.tmcp-textfield"+i).val();break;case"cpf-type-color":r=e.find("input.tm-epo-field.tm-color-picker"+i).val();break;case"cpf-type-range":r=e.find("input.tm-epo-field.tmcp-range"+i).val()}c=Array.isArray(r)?c&&r.some(function(t){return p(t,"",o)}):c&&p(r,"",o)}else c=c&&!1}),c}(o,r);if(o.is(".cpf-type-product")&&(l=":not(.tc-extra-product-options-inline .tm-epo-field)"),0<(t=o.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length){switch("cpf-type-product"===(t=t[0])&&(c=!0,t=o.is(".cpf-type-product-mode-product")||o.is(".cpf-type-product-checkbox")||o.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":o.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),t){case"cpf-type-radio":if(e=o.find("input.tm-epo-field.tmcp-radio:checked"+l),"is"===r||"isnot"===r){if(0===e.length)return;(a=o.find("input.tm-epo-field.tmcp-radio:checked"+l).val())&&!c&&(a=a.slice(0,a.lastIndexOf("_")))}if("isnotempty"===r)return 0<e.length;if("isempty"===r)return 0===e.length;break;case"cpf-type-checkbox":if(e=o.find("input.tm-epo-field.tmcp-checkbox:checked"+l),"is"===r||"isnot"===r)return 0!==e.length&&(i=!1,e.each(function(t,e){if(p(a=(a=Ft(e).val())&&!c?a.slice(0,a.lastIndexOf("_")):a,n,r))i=!0;else if("isnot"===r)return i=!1}),i);if("isnotempty"===r)return 0<e.length;if("isempty"===r)return 0===e.length;break;case"cpf-type-select":(a=o.find("select.tm-epo-field.tmcp-select"+l).val())&&!c&&(a=a.slice(0,a.lastIndexOf("_")));break;case"cpf-type-selectmultiple":(a=o.find("select.tm-epo-field.tmcp-selectmultiple"+l).val())&&!c&&a.forEach(function(t,e){a[e]=t.slice(0,t.lastIndexOf("_"))});break;case"cpf-type-textarea":a=o.find("textarea.tm-epo-field.tmcp-textarea"+l).val();break;case"cpf-type-textfield":a=o.find("input.tm-epo-field.tmcp-textfield"+l).val();break;case"cpf-type-color":a=o.find("input.tm-epo-field.tm-color-picker"+l).val();break;case"cpf-type-range":a=o.find("input.tm-epo-field.tmcp-range"+l).val();break;case"cpf-type-variations":return function(t,e,a){var i,o=Ft(t),r=o.attr("data-epo_id"),n=o.attr("data-product_id"),c=Ft(".variations_form[data-epo_id='"+r+"'][data-product_id='"+n+"']");if(0===(c=Ft.epoAPI.applyFilter("tm_variation_check_match_variationsForm",c,r,n,o)).length)return;switch(0===(o=c.find("input[name^='variation_id']")).length&&0===(o=c.find("input.variation_id")).length&&(o=c.closest(".tc-epo-element-product-li-container").find(".product-variation-id")),null!==t&&null!==e&&void 0!==t&&void 0!==e&&!1!==t&&!1!==e&&(e=e?parseInt(e,10):-1),i=parseInt(o.val(),10),Number.isFinite(i)||(i=""),Number.isFinite(e)||(e=""),a){case"is":return""!==i&&i===e;case"isnot":return""!==i&&i!==e;case"isempty":return""===i||0===i;case"isnotempty":return""!==i&&0!==i;case"startswith":return i.toString().startsWith(e);case"endswith":return i.toString().endsWith(e);case"greaterthan":return parseFloat(i)>parseFloat(e);case"lessthan":return parseFloat(i)<parseFloat(e);case"greaterthanequal":return parseFloat(i)>=parseFloat(e);case"lessthanequal":return parseFloat(i)<=parseFloat(e)}return}(o,n,r)}return Array.isArray(a)?a.some(function(t){return p(t,n,r)}):p(a,n,r)}}}function f(t,c){t.each(function(){var a=Ft(this),t=parseInt(a.data("matches"),10),e=a.data("toggle"),i=a.data("what"),o=a.data("fields"),r=0,n=!1;switch(e){case"show":n=!1;break;case"hide":n=!0}Ft.each(o,function(t,e){var a=!0;(a="cpflogic"===c?T(Ft(e.element)):a)&&O(e)&&(r=parseInt(r,10)+1)}),"all"===i?t===r&&(n=!n):0<r&&(n=!n),n?("cpflogic"!==c||a.data("did_initial_activation")||l.push(function(){var t=a.find(".tm-epo-field.tcenabled");t.each(function(t,e){(e=Ft(e)).data("initial_activation")||a.closest(".cpf-section").is(".tc-hidden")||!T(e)||(e.trigger("tc_element_epo_rules"),e.data("initial_activation",1))}),(a.is(".cpf-element")&&t.length||a.is(".cpf-section"))&&a.data("did_initial_activation",1)}),a.removeClass("tc-hidden")):a.addClass("tc-hidden"),a.data("isactive",n)})}function j(t){var e,a=[];Ft(t).length||(t="body"),(e=(t=Ft(t)).find(".iscpfdependson")).each(function(t,e){Ft(e).each(function(t,e){f(Ft(e))})}),e.each(function(t,e){Ft(e).each(function(t,e){f(Ft(e),"cpflogic")})}),e.each(function(t,e){Ft(e).each(function(t,e){(e=(e=Ft(e)).is(".cpf-section")?e.find(".cpf-element"):e).each(function(t,e){T(Ft(e).find(".tm-epo-field"))})})}),l.forEach(function(t){t()}),l=[],Ft().selectric&&Ft(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){Ft(".tm-owl-slider").each(function(){Ft(this).trigger("refresh.owl.carousel")})},200),t.find(".tm-product-image:checked,select.tm-product-image").each(function(){var t=Ft(this);T(t)&&""!==t.val()&&a.push(t)}),a.length&&a[a.length-1].trigger("tm_trigger_product_image"),Pt.trigger("cpflogicrun"),Pt.trigger("tmlazy"),Pt.trigger("cpflogicdone")}function u(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&0<t.rules.length}function z(t){var a,i,o,r,n,c,l,d,s,p,m=Ft(t),t=m.find(".cpf-section"),_=!m.is(".cpf-section")&&t;m.each(function(t,e){(Ft(e).is(".cpf-section")?Ft(e):Ft(e).find(".cpf-section")).filter('[data-haslogic="1"]').each(function(t,e){a=Ft(e),i=a.data("logic"),o=parseInt(a.data("haslogic"),10),r=[],p=a.parent().closest(".cpf-type-product"),1===o&&u(i)&&(Ft.each(i.rules,function(t,e){e&&(n=e.section,s=e.element,c=e.operator,l=e.value,s=_?p.length?(d=p.find(".cpf-section").filter("[data-uniqid='"+n+"']"),s!==n?d.find(".cpf-element").eq(s):d):(d=_.filter("[data-uniqid='"+n+"']"),s!==n?d.find(".cpf-element:not(.cpf-element .cpf-element)").eq(s):d):s!==n?m.find(".cpf-element").eq(s):d,r.push({element:s,operator:c,value:l}))}),a.data("iscpfdependson")?a.cpfdependson(a.data("cpfdependson-fields"),i.toggle,i.what,!0):(a.data("cpfdependson-fields",r),a.cpfdependson(r,i.toggle,i.what)))})})}function D(t){var i,o,r,n,c,l,d,s,p,m=Ft(t),t=m.find(".cpf-section").not(".cpf-type-product .cpf-section"),_=!m.is(".cpf-section")&&t;m.find('.cpf-element[data-haslogic="1"]').each(function(t,e){var a=[];i=Ft(e),o=i.data("logic"),r=parseInt(i.data("haslogic"),10),p=i.parent().closest(".cpf-type-product"),1===r&&u(o)&&(Ft.each(o.rules,function(t,e){e&&(n=e.section,s=e.element,c=e.operator,l=e.value,s=_?p.length?(d=p.find(".cpf-section").filter("[data-uniqid='"+n+"']"),s!==n?d.find(".cpf-element").eq(s):d):(d=_.filter("[data-uniqid='"+n+"']"),s!==n?d.find(".cpf-element:not(.cpf-element .cpf-element)").eq(s):d):s!==n?m.find(".cpf-element").eq(s):d,a.push({element:s,operator:c,value:l}))}),i.data("iscpfdependson")?i.cpfdependson(i.data("cpfdependson-fields"),o.toggle,o.what,!0):(i.data("cpfdependson-fields",a),i.cpfdependson(a,o.toggle,o.what)))})}function N(t,e,a){var i,o,r;return e&&(i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-tax-display-mode"),e=e.attr("data-prices-include-tax"),(a||i&&"incl"===r&&"1"!==e)&&(t=parseFloat(t)/(1+o/100))),t}function v(t,e,a){var i,o,r;return e&&(i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-tax-display-mode"),e=e.attr("data-prices-include-tax"),(a||i&&"incl"!==r&&"1"===e)&&(t=parseFloat(t)*(1+o/100))),t}function B(t,e){var a,i,o;return e&&(a=e.attr("data-taxable"),i=e.attr("data-tax-display-mode"),o=e.attr("data-prices-include-tax"),a&&("1"===o?"incl"!==i&&(t=v(t,e)):"1"!==o&&"incl"===i&&(t=N(t,e)))),t}function Ot(t,e,a,i,o){var r="",n="";return a||(t=At(t,e,o,0,!0)),o=Math.abs(t),e&&i&&(r=e.attr("data-tax-string")),d(o,n=t<0?It.minus_sign+" ":n,r=void 0===r?"":r)}function jt(t,e,a,i){return"excl"===i.attr("data-tax-display-mode")?(a[t]=a[t].replace(/{price_excluding_tax}/g,Ot(a[e],i,!0,!1)),a[t]=a[t].replace(/{price_including_tax}/g,Ot(v(a[e],i,!0),i,!0,!1))):(a[t]=a[t].replace(/{price_including_tax}/g,Ot(a[e],i,!0,!1)),a[t]=a[t].replace(/{price_excluding_tax}/g,Ot(N(a[e],i,!0),i,!0,!1))),a}function zt(t,e,a,i,o){H(t,e,a,i,o,!0)}function H(t,e,a,i,o,r){var n,c,l=Ft(t);0!==l.length&&(n=l.closest(".tmcp-field-wrap"),c=l.closest(".tc-price-wrap"),t=n.find(".tm-epo-field"),!r&&"1"===t.attr("data-no-price-change")&&t.data("price-changed")||(e=Ft.epoAPI.applyFilter("tc_adjust_update_price_price",e),a=Ft.epoAPI.applyFilter("tc_adjust_update_price_formated_price",a,e),i=Ft.epoAPI.applyFilter("tc_adjust_update_price_original_price",i),o=Ft.epoAPI.applyFilter("tc_adjust_update_price_original_formated_price",o,i),Number.isFinite(parseFloat(i))||(i=0),Number.isFinite(parseFloat(e))||(e=0),n=n.find(".before-amount,.after-amount"),o={price:a,original_price:o},("yes"!==It.tm_epo_auto_hide_price_if_zero||!1!==Ft.tmempty(e))&&"yes"===It.tm_epo_auto_hide_price_if_zero||!0===Ft.tmempty(e)&&"1"===t.attr("data-no-price")||!r&&0<t.length&&("1"===t.attr("data-no-price")||"variable"===t.attr("data-type")&&!t.data("price")||t.is(".tmcp-select")&&!t.children("option:selected").data("price"))?(c.addClass("tm-hidden"),l.addClass("tm-hidden"),l.empty(),n.addClass("tm-hidden")):(i&&void 0!==i&&parseFloat(i)!==parseFloat(e)?l.html(Ft.epoAPI.template.html(Ct.templateEngine.sale_price,{price:o})):l.html(Ft.epoAPI.template.html(Ct.templateEngine.price,{price:o})),c.removeClass("tm-hidden"),l.removeClass("tm-hidden"),n.removeClass("tm-hidden"))))}function y(i,d,t){var e,a,s=[],p=(e=i,a={},(e=(t=t).thisForm?t.thisForm:e).find(".variations select, .tc-epo-variable-product-selector").each(function(){var t=void 0!==Ft(this).data("attribute_name")?Ft(this).data("attribute_name"):Ft(this).attr("name"),e=Ft(this).val();a[t]=e}),a),o=!0;i.find(".cpf-type-variations").each(function(n,t){var c,l,t=Ft(t).find(".tm-epo-variation-element"),a=!1;s[n]=!0,t.is("select")?(c=Ft.epoAPI.dom.id(t.attr("data-tm-for-variation")),(l=t.val())&&(s[n]=!1),t.children("option").each(function(t,e){a=!1,i.find("[data-attribute_name='attribute_"+c+"']").children("option").each(function(){if(Ft(this).attr("value")===Ft(e).attr("value"))return!(a=!0)}),a?Ft(e).prop("disabled",!1).show():Ft(e).prop("disabled",!0).hide()})):t.each(function(t,e){var a=Ft(e),i=a.closest("li"),o=i.find(".tm-epo-variation-element"),r=Ft.extend(!0,{},p);c=a.attr("data-tm-for-variation"),l=a.val(),a.is(":checked")&&(s[n]=!1),r["attribute_"+c]=l,r=(e=Ft.fn.tm_find_matching_variations(d,r).shift())&&"is_in_stock"in e&&e.is_in_stock,e&&r?(a.prop("disabled",!1).removeClass("tm-disabled"),i.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){Ft(this).css("opacity","")}),o.prop("disabled",!1),o.removeAttr("data-tm-disabled")):(a.attr("disabled","disabled").addClass("tm-disabled"),o.attr("disabled","disabled"),o.attr("data-tm-disabled","disabled"),i.addClass("tm-attribute-disabled").fadeTo("fast",.5),r||i.find("label").off())})}),s&&(s.shift(),Ft.each(s,function(t,e){if(!1===e)return o=!1}),o&&i.find(".cpf-type-variations").first().each(function(t,e){var a,i,e=Ft(e).find(".tm-epo-variation-element");e.is("select")||e.each(function(t,e){e=Ft(e),a=e.closest("li"),i=a.find(".tm-epo-variation-element"),e.prop("disabled",!1).removeClass("tm-disabled"),a.removeClass("tm-attribute-disabled").stop().css("opacity",""),i.prop("disabled",!1),i.removeAttr("data-tm-disabled")})}))}function L(e,a){var t=e.data("product_variations"),i=parseInt(e.data("product_id"),10),o=e.data("globalVariationObject")||!1;!(i=i||e.data("tc_product_id"))&&e.is(Ct.compositeSelector)&&(i=e.find(".component_options").data("options_data")[0].option_id,t=t||e.find(".details.component_data").data("product_variations")),a.is_associated||!(t=!(t=!t&&k.product_variations&&k.product_variations.product_id?k.product_variations.product_id:t)&&k.product_variations?k.product_variations:t)&&k["product_variations_"+i]&&(t=k["product_variations_"+i]),t?y(e,t,a):o?y(e,o.variations,a):Ft.post(It.ajax_url,{action:"woocommerce_tm_get_variations_array",post_id:i},function(t){o=t,e.data("globalVariationObject",t),y(e,o.variations,a)},"json")}function M(t,e){var a,i,o,r;"no"!==It.tm_epo_global_move_out_of_stock&&((r=!(r=t.find(".woocommerce-variation-availability").last()).length?t.find(".stock").last():r).length?(e.find(".tm-stock").remove(),a=e,void 0!==(i=r.prop("outerHTML"))&&(t=(o=(a=Ft(a)).find(".tm-epo-variation-element").first()).closest(".tm-epo-variation-section"),o.length?(t.find(".tm-stock").remove(),t.append('<div class="tm-stock">'+i+"</div>")):(a.find(".tm-stock").remove(),a.find(".variations").after('<div class="tm-stock">'+i+"</div>")),1)&&r.remove()):e.find(".tm-stock").remove())}function U(t,e,a,i){return a=a||"form",o=t,t=i,i="",(t=0===(t=(e=(e=e)||o).find(Ct.addToCartSelector+(i=t?i+"[value='"+t+"']":i))).length?e.find(Ct.tcAddToCartSelector+i):t).last().closest(a);var o}function J(t,e,a,i){return U(t,e,a,i)}function Dt(t){var e=Ft.epoAPI.applyFilter("tcGetNativePricesBlockSelector",".single_variation .price",t);return Ft(t).find(e).not(".tc-price")}function Nt(t,e,a){var i,o="object"==typeof e?(o=e.has_epo,i=e.this_epo_container,o&&(i.find(".tmcp-fee-field").length||i.find(".tmcp-field").not(".cpf-type-variations .tmcp-field").length)):e;o&&"yes"===It.tm_epo_hide_add_cart_button&&(t=t.find(Ct.addToCartButtonSelector).first(),a?t.removeClass("tc-hide-add-to-cart-button"):t.addClass("tc-hide-add-to-cart-button"))}function x(t,e){var a,i,o,r=Ft.tcepo.errorObject[e]||t;r&&("yes"!==It.tm_epo_disable_error_scroll&&(i=(a=r.closest(".cpf-section")).find(".tm-section-link"),o=r.closest(".cpf-element"),a.find(".tm-toggle").length&&a.find(".tm-toggle").trigger("openwrap.tmtoggle"),k.tc_validation_offset||(k.tc_validation_offset=-100),a.is(".section_popup")?(A.tcScrollTo(i,300,k.tc_validation_offset),i.trigger("click.tmsectionpoplink")):a.is(".tm-owl-slider-section")?(r=r.closest(".owl-item").index(),a.find(".tcowl-carousel").trigger("to.owl.carousel",[r,100]),setTimeout(function(){a.find(".tcowl-carousel").trigger("refresh.owl.carousel"),0<o.length&&A.tcScrollTo(o,300,k.tc_validation_offset)},200)):0<o.length&&A.tcScrollTo(o,300,k.tc_validation_offset)),t||(Ft.tcepo.errorObject[e]=!1))}function R(t,e){var a,i=parseInt(t.attr("data-limit"),10),o=!1;return!(0<i&&(o=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){a=Ft(this),a=a.closest("li.tmcp-field-wrap").find("input.tm-qty"),o=0<a.length?((a=parseInt(a.val(),10))<=0&&(a=1),parseInt(o,10)+a):parseInt(o,10)+1}),i<o))||(e&&t.prop("checked","").trigger("change"),!1)}function Q(t,e){var a,i=parseInt(t.attr("data-exactlimit"),10),o=!1;return!(0<i&&(o=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){a=Ft(this),a=a.closest("li.tmcp-field-wrap").find("input.tm-qty"),o=0<a.length?((a=parseInt(a.val(),10))<=0&&(a=1),parseInt(o,10)+a):parseInt(o,10)+1}),i<o))||(e&&t.prop("checked","").trigger("change"),!1)}function $(d,s,p){Ft.tcepo.formSubmitEvents[p][Ft.tcepo.formSubmitEvents[p].length]={trigger:function(){return t=s,e=p,l=!(c=!0),d.each(function(){n=Ft(this),(o=n.find("[type='checkbox'][data-limit]")).length&&T(o)&&(r=parseInt(o.attr("data-limit"),10),a=0,n.find("input.tm-epo-field[type='checkbox']:checked").each(function(){i=Ft(this),i=i.closest("li.tmcp-field-wrap").find("input.tm-qty"),a=0<i.length?((i=parseInt(i.val(),10))<=0&&(i=1),parseInt(a,10)+i):parseInt(a,10)+1}),o=n.closest(".cpf-element"),o=o.find("div.tm-error-min"),r<a?(c=!1,l=n,r=(1===r?It.tm_epo_global_validator_messages.epolimitsingle:It.tm_epo_global_validator_messages.epolimit).replace("{0}",r),o.length&&o.remove(),"before"===It.tm_epo_global_error_label_placement?n.closest(".tc-element-container").before('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"):n.closest(".tc-element-container").after('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"),t.find(Ct.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").prop("disabled",!1)):o.remove())}),l&&(Ft.tcepo.errorObject[e]=l),c;var t,e,a,i,o,r,n,c,l},on_true:function(){return!0},on_false:function(){return x(Ft(d).find(".tm-epo-field").first(),p),!0}}}function Z(d,s,p){Ft.tcepo.formSubmitEvents[p][Ft.tcepo.formSubmitEvents[p].length]={trigger:function(){return t=s,e=p,l=!(c=!0),d.each(function(){n=Ft(this),(o=n.find("[type='checkbox'][data-exactlimit]")).length&&T(o)&&(r=parseInt(o.attr("data-exactlimit"),10),a=0,n.find("input.tm-epo-field[type='checkbox']:checked").each(function(){i=Ft(this),i=i.closest("li.tmcp-field-wrap").find("input.tm-qty"),a=0<i.length?((i=parseInt(i.val(),10))<=0&&(i=1),parseInt(a,10)+i):parseInt(a,10)+1}),o=n.closest(".cpf-element"),o=o.find("div.tm-error-min"),r!==a?(c=!1,l=n,r=(1===r?It.tm_epo_global_validator_messages.epoexactsingle:It.tm_epo_global_validator_messages.epoexact).replace("{0}",r),o.length&&o.remove(),"before"===It.tm_epo_global_error_label_placement?n.closest(".tc-element-container").before('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"):n.closest(".tc-element-container").after('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+r+"</div>"),t.find(Ct.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").prop("disabled",!1)):o.remove())}),l&&(Ft.tcepo.errorObject[e]=l),c;var t,e,a,i,o,r,n,c,l},on_true:function(){return!0},on_false:function(){return x(Ft(d).find(".tm-epo-field").first(),p),!0}}}function W(l,d){Ft.tcepo.formSubmitEvents[d][Ft.tcepo.formSubmitEvents[d].length]={trigger:function(){return t=d,c=!(n=!0),l.each(function(){var t;(t=(r=Ft(this)).find("[type='checkbox'][data-minimumlimit]")).length&&T(t)&&(o=parseInt(t.attr("data-minimumlimit"),10),e=0,r.find("input.tm-epo-field[type='checkbox']:checked").each(function(){a=Ft(this),a=a.closest("li.tmcp-field-wrap").find("input.tm-qty"),e=0<a.length?((a=parseInt(a.val(),10))<=0&&(a=1),parseInt(e,10)+a):parseInt(e,10)+1}),i=r.closest(".cpf-element"),i=i.find("div.tm-error-min"),e<o?(n=!1,c=r,o=(1===o?It.tm_epo_global_validator_messages.epominsingle:It.tm_epo_global_validator_messages.epomin).replace("{0}",o),i.length&&i.remove(),"before"===It.tm_epo_global_error_label_placement?r.closest(".tc-element-container").before('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+o+"</div>"):r.closest(".tc-element-container").after('<div class="tm-error-min tm-error tc-cell tcwidth-100">'+o+"</div>")):i.remove())}),c&&(Ft.tcepo.errorObject[t]=c),n;var t,e,a,i,o,r,n,c},on_true:function(){return!0},on_false:function(){return x(!1,d),!0}}}function X(t){return null===t?0:("object"==typeof t&&(t=t[0]),Number.isFinite(parseFloat(t))?t:0)}function G(t,e,a,i){return t=X(t),t=a?Ft.epoAPI.applyFilter("tc_apply_dpd",t,e,a,i):t}function Bt(t,e){var a=0;return 0<t.length&&(a=t.data("regular-price")),a=Ft.epoAPI.applyFilter("tc_calculate_product_regular_price",a,t),(!e||!1!==a)&&(a=parseFloat(a),Number.isFinite(a)?a:0)}function Ht(t,e){var a=0;return 0<t.length&&(a=t.data("price")),a=Ft.epoAPI.applyFilter("tc_calculate_product_price",a,t),(!e||!1!==a)&&(a=parseFloat(a),Number.isFinite(a)?a:0)}function V(t,e,a,i,o){var r,n,c,l,d,s,p,m,_=t.toString(),f=0,u=0,g=e.closest(".tmcp-ul-wrap"),h=a.this_epo_totals_container.data("totalsHolder_tc_totals_ob"),v=g.find(".tmcp-field, .tmcp-fee-field").filter(":checked").index(e),t=g.find(".tmcp-field, .tmcp-fee-field").index(e),y=a.is_associated?a.this_epo_container:a.this_epo_container.not(Ct.epoSelector+" "+Ct.associatedEpoSelector),b=Ft.epoAPI.util.parseJSON(It.tm_epo_math)||{};-1===v&&e.is(".tmcp-checkbox, .tmcp-radio"),i||e.data("addedtcEpoBeforeOptionPriceCalculation")||(Pt.on("tcEpoBeforeOptionPriceCalculation.math",function(){Lt(a,e,void 0,void 0,void 0,!0)}),Pt.on("tcEpoAfterOptionPriceCalculation.math",function(){e.data("fetchOptionPrices",!1),e.data("fetchOptionPrices-forced",!1),e.data("fetchOptionPrices-fee",!1),e.data("fetchOptionPrices-fee-forced",!1)}),e.data("addedtcEpoBeforeOptionPriceCalculation",1)),e.is(".tmcp-field")?e.data("fetchOptionPrices")?(p=e.data("fetchOptionPrices"),m=e.data("fetchOptionPrices-forced")):(p=Jt(a,g,".tmcp-field",0,0,[],!0),m=Jt(a,g,".tmcp-field",0,0,[],!0,!0),e.data("fetchOptionPrices",p),e.data("fetchOptionPrices-forced",m)):e.is(".tmcp-fee-field")&&(e.data("fetchOptionPrices-fee")?(p=e.data("fetchOptionPrices-fee"),m=e.data("fetchOptionPrices-fee-forced")):(p=Jt(a,g,".tmcp-fee-field",0,0,[],!0),m=Jt(a,g,".tmcp-fee-field",0,0,[],!0,!0),e.data("fetchOptionPrices-fee",p),e.data("fetchOptionPrices-fee-forced",m))),Object.keys(b).forEach(function(t){var e;""!==b[t].name&&""!==b[t].value&&(e=new RegExp("{"+b[t].name+"}","g"),t=b[t].value,_=_.replace(e,Ft.epoAPI.math.unformat(t,Ct.localInputDecimalSeparator)))}),_=void 0!==h?(_=_.replace(/{quantity}/g,Ft.epoAPI.math.unformat(h.qty)),o&&void 0!==h.original_product_price?_.replace(/{product_price}/g,Ft.epoAPI.math.unformat(h.original_product_price)):_.replace(/{product_price}/g,Ft.epoAPI.math.unformat(h.product_price))):(_=_.replace(/{quantity}/g,0)).replace(/{product_price}/g,0),(_=(_=void 0!==m.floatingBoxData&&void 0!==m.floatingBoxData[t]?(_="number"===m.floatingBoxData[t].input_type?_.replace(/{this.value}/g,Ft.epoAPI.math.unformat(m.floatingBoxData[t].valueText)):_.replace(/{this.value}/g,Ft.epoAPI.math.unformat(m.floatingBoxData[t].valueText,Ct.localDecimalSeparator))).replace(/{this.value.length}/g,m.floatingBoxData[t].valueText.length):_.replace(/{this.value}/g,"").replace(/{this.value.length}/g,0)).replace(/{this.count}/g,p.floatingBoxData.length).replace(/{this.count.quantity}/g,p.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return Ft.epoAPI.math.toFloat(t)+Ft.epoAPI.math.toFloat(e)},0)).replace(/{this.quantity}/g,e.data("tm-quantity"))).match(/\{(\s)*?field\.([^}]*)}/)&&_.match(/\{(\s)*?field\.([^}]*)}/g).forEach(function(t){if(void 0!==(c=t.match(/\{(\s)*?field\.([^}]*)}/))[2]&&"string"==typeof c[2]&&-1!==(l=c[2].indexOf(".",c[2].indexOf(".")+1))&&(s=c[2].substring(0,l),d=c[2].substring(l+1),-1!==Ft.inArray(d,["price","value","value.length","quantity","count","count.quantity"]))){if((r=y.find("[data-uniqid='"+Ft.epoAPI.util.escapeSelector(s)+"']")).length){if(n=r.find(".tmcp-field, .tmcp-fee-field"),i||e.data("addedfieldtcEpoBeforeOptionPriceCalculation")||(Pt.on("tcEpoBeforeOptionPriceCalculation.math",function(){Lt(a,e,void 0,void 0,void 0,!0),e.trigger("tm-math-select-change-html-all")}),e.data("addedfieldtcEpoBeforeOptionPriceCalculation",1)),n=n.first(),f=0,r.is(".tc-container-enabled")){switch(n.is(".tmcp-field")?f=Jt(a,r,".tmcp-field",0,0,[],!0):n.is(".tmcp-fee-field")&&(f=Jt(a,r,".tmcp-fee-field",0,0,[],!0)),d){case"price":f=f.total;break;case"value":f.floatingBoxData&&(f=f.floatingBoxData.map(function(t){return"number"===t.input_type?Ft.epoAPI.math.unformat(t.valueText):Ft.epoAPI.math.unformat(t.valueText,Ct.localInputDecimalSeparator)}).reduce(function(t,e){return Ft.epoAPI.math.toFloat(t)+Ft.epoAPI.math.toFloat(e)},0));break;case"value.length":f.floatingBoxData&&(f=f.floatingBoxData.map(function(t){return t.valueText}).reduce(function(t,e){return Ft.epoAPI.math.toFloat(t)+e.length},0));break;case"quantity":case"count.quantity":f.floatingBoxData&&(f=f.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return Ft.epoAPI.math.toFloat(t)+Ft.epoAPI.math.toFloat(e)},0));break;case"count":f.floatingBoxData&&(f=f.floatingBoxData.length)}f=Ft.epoAPI.math.toFloat(f),Number.isFinite(f)||(f=0)}}else f=0;c=new RegExp(c[0]),_=Number.isFinite(f)?_.replace(c,f):_.replace(c,"'"+f+"'")}});try{u=w.eval(_)}catch(t){u=0}return u}function Y(t){for(var e,a=new RegExp(/[\p{L}\d!@#$%^&*()_+=\{[\}\]|\\"':;?/>.<,-]+/,"gu"),i=0;null!==(e=a.exec(t));)e.index===a.lastIndex&&a.lastIndex++,i+=e.length;return i}function Lt(e,t,a,i,o,r){var n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I=Ft(t),P=I,A=I.is(".tmcp-range"),E=e.main_product,S=e.epoEventId,t=!0,q=0,T=0;I.data("associated_price_set")||(a?(n=a.cart,c=a.current_variation,l=a.bundleid,d=a.epoTotalsContainer,p=a.product_price,m=a.product_original_price,s=a.apply_dpd,t=a.per_product_pricing):(void 0!==(n=e.main_cart).data("per_product_pricing")&&(t=n.data("per_product_pricing")),a="input[name^='variation_id']",0<n.find("input.variation_id").length&&(a="input.variation_id"),c=n.find(a).val(),l=Ft.epoAPI.applyFilter("tc_get_bundleid",n.attr("data-product_id"),n,e),c=c||0,d=Ft.epoAPI.applyFilter("tc_get_totals_container",e.this_epo_totals_container,I,E,l),p=Ht(d),m=Bt(d),s=d.data("fields-price-rules")),p=Ft.epoAPI.applyFilter("tc_alter_product_price",p,I,n,d,l),m=Ft.epoAPI.applyFilter("tc_alter_product_original_price",m,I,n,d),!1!==p&&t&&(I.is("select")&&(P=I.find("option:selected")),(P=i?i:P).toArray().forEach(function(t){switch(t=Ft(t),y=Ft.epoAPI.util.parseJSON(t.attr("data-rules")),w=Ft.epoAPI.util.parseJSON(t.attr("data-rulestype")),void 0===(b=Ft.epoAPI.util.parseJSON(t.attr("data-original-rules")))&&(b=y),g="","object"==typeof y?(v=c in y?(h=y[c],b[c]):(_=Ft.epoAPI.util.parseJSON(I.closest(".tmcp-ul-wrap").attr("data-rules")),u=I.closest(".tmcp-ul-wrap").data("original-rules"),h="object"==typeof _&&c in _?_[c]:y[0],"object"==typeof u&&c in u?u[c]:b[0]),"object"==typeof w?g=c in w?w[c]:"object"==typeof(f=Ft.epoAPI.util.parseJSON(I.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&c in f?f[c]:w[0]:"object"==typeof(w=Ft.epoAPI.util.parseJSON(I.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(g=c in w?w[c]:w[0])):(F=I.closest(".tmcp-ul-wrap"),y=Ft.epoAPI.util.parseJSON(F.attr("data-rules")),b=Ft.epoAPI.util.parseJSON(F.attr("data-original-rules")),"object"==typeof y&&(h=c in y?y[c]:y[0],v="object"==typeof b?c in b?b[c]:b[0]:h,"object"==typeof w?g=c in w?w[c]:"object"==typeof(f=Ft.epoAPI.util.parseJSON(F.attr("data-rulestype")))&&c in f?f[c]:w[0]:"object"==typeof(w=Ft.epoAPI.util.parseJSON(F.attr("data-rulestype")))&&(g=c in w?w[c]:w[0]))),"object"==typeof g&&(g=g[0]),I.is(".tmcp-fee-field")&&(-1!==Ft.inArray(g,["fee","stepfee","currentstepfee"])&&(g=""),s=0),void 0===o&&(I.is("select")?I.find("option"):t).removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),"math"!==g&&(h=X(h),v=X(v)),g){case"":h=G(h,d,s),v=G(v,d,s);break;case"math":h=G(h=V(h,I,e,r),d,s),v=G(v=V(v,I,e,!0,!0),d,s);break;case"percent_cart_total":C=parseFloat(It.cart_total),Number.isFinite(C)||(C=0),h=G(h,d,s)/100*C,v=G(v,d,s)/100*C;break;case"percent":h=G(h,d,s)/100*p,v=G(v,d,s)/100*m;break;case"percentcurrenttotal":Ft.tcepo.lateFieldsPrices[S].push({setter:t,price:h,original_price:v,bundleid:l,pricetype:g}),t.data("tm-price-for-late",h).data("tm-original-price-for-late",v).data("islate",1).addClass("tm-epo-late-field"),v=h=0;break;case"fixedcurrenttotal":h=G(h,d,s),Ft.tcepo.lateFieldsPrices[S].push({setter:t,price:h,original_price:v,bundleid:l,pricetype:g}),t.data("tm-price-for-late",h).data("tm-original-price-for-late",v).data("islate",1).addClass("tm-epo-late-field"),v=h=0;break;case"word":h=G(h,d,s)*Y(t.val()),v=G(v,d,s)*Y(t.val());break;case"wordpercent":h=G(h,d,s)/100*p*Y(t.val()),v=G(v,d,s)/100*m*Y(t.val());break;case"wordnon":k=parseInt(t.attr("data-freechars"),10),Number.isFinite(k)||(k=0),(x=Y(t.val())-k)<0&&(x=0),h=G(h,d,s)*x,v=G(v,d,s)*x;break;case"wordpercentnon":k=parseInt(t.attr("data-freechars"),10),Number.isFinite(k)||(k=0),(x=Y(t.val())-k)<0&&(x=0),h=G(h,d,s)/100*p*x,v=G(v,d,s)/100*m*x;break;case"char":h=G(h,d,s)*t.val().length,v=G(v,d,s)*t.val().length;break;case"charpercent":h=G(h,d,s)/100*p*t.val().length,v=G(v,d,s)/100*m*t.val().length;break;case"charnospaces":h=G(h,d,s)*t.val().replace(/\s/g,"").length,v=G(v,d,s)*t.val().replace(/\s/g,"").length;break;case"charnofirst":(x=t.val().length-1)<0&&(x=0),h=G(h,d,s)*x,v=G(v,d,s)*x;break;case"charnon":k=parseInt(t.attr("data-freechars"),10),Number.isFinite(k)||(k=0),(x=t.val().length-k)<0&&(x=0),h=G(h,d,s)*x,v=G(v,d,s)*x;break;case"charpercentnon":k=parseInt(t.attr("data-freechars"),10),Number.isFinite(k)||(k=0),(x=t.val().length-k)<0&&(x=0),h=G(h,d,s)/100*p*x,v=G(v,d,s)/100*m*x;break;case"charnonnospaces":k=parseInt(t.attr("data-freechars"),10),Number.isFinite(k)||(k=0),(x=t.val().replace(/\s/g,"").length-k)<0&&(x=0),h=G(h,d,s)*x,v=G(v,d,s)*x;break;case"charpercentnonnospaces":k=parseInt(t.attr("data-freechars"),10),Number.isFinite(k)||(k=0),(x=t.val().replace(/\s/g,"").length-k)<0&&(x=0),h=G(h,d,s)/100*p*x,v=G(v,d,s)/100*m*x;break;case"charpercentnofirst":(x=t.val().length-1)<0&&(x=0),h=G(h,d,s)/100*p*x,v=G(v,d,s)/100*m*x;break;case"step":v=(h=A?G(h,d,s)*t.val():G(h,d,s)*Ft.epoAPI.math.toFloat(t.val()),G(v,d,s)*Ft.epoAPI.math.toFloat(t.val()));break;case"currentstep":v=A?(h=G(t.val(),d,s),G(t.val(),d,s)):(h=G(Ft.epoAPI.math.toFloat(t.val()),d,s),G(Ft.epoAPI.math.toFloat(t.val()),d,s));break;case"intervalstep":A&&(C=parseFloat(Ft('.tm-range-picker[data-field-id="'+t.attr("id")+'"]').attr("data-min")),h=G(h,d,s)*(t.val()-C),v=G(v,d,s)*(t.val()-C));break;case"row":h=G(h,d,s)*((t.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),v=G(v,d,s)*((t.val().match(/(\r\n|\n|\r)/gm)||[]).length+1)}y=h,b=v,I.data("tm-quantity")&&(h*=parseFloat(I.data("tm-quantity")),v*=parseFloat(I.data("tm-quantity")),y*=parseFloat(I.data("tm-quantity")),b*=parseFloat(I.data("tm-quantity"))),q+=parseFloat(h),T+=parseFloat(v),F=St(q,d,!1,!1,t),w=St(T,d,!1,!1,t),I.data("price_set",1),t.data("price_set",1),t.data("raw_price",y),t.data("raw_original_price",b),t.data("price",At(h,d,t)),t.data("original_price",At(v,d,t)),i||(H(t.closest(".tmcp-field-wrap").find(".tc-price"),q,F,T,w),I.data("price-changed",1))})))}function Mt(a,t){var e,i,o,r,n,c,l,d,s,p,m,_,f,u,g=!0,h=a.main_product,v=a.epoEventId,y=a.this_epo_container,b=a.this_epo_totals_container,t=t||h.find(".cart");t.length<=0||(Ft.tcepo.lateFieldsPrices[v]=[],t.toArray().forEach(function(t){return t=Ft(t),_="input[name^='variation_id']",0<t.find("input.variation_id").length&&(_="input.variation_id"),void 0!==t.data("per_product_pricing")&&(g=t.data("per_product_pricing")),e=t.find(_).val(),i=Ft.epoAPI.applyFilter("tc_get_bundleid",t.attr("data-product_id"),t,a),e=e||0,f=Ft.epoAPI.applyFilter("tc_get_epo_container",y,t,h,i),o=Ft.epoAPI.applyFilter("tc_get_totals_container",b,t,h,i),r=o.data("fields-price-rules"),f.data("tm_rules_init_done")||(o.data("force-quantity")&&t.find(Ct.qtySelector).val(o.data("force-quantity")),f.toArray().forEach(function(t){Ft(t).closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",Ft(t).val())}),f.find(".tmcp-attributes, .tmcp-elements").toArray().forEach(function(t){t=Ft(t),n=Ft.epoAPI.util.parseJSON(t.attr("data-rules")),"object"!=typeof(c=Ft.epoAPI.util.parseJSON(t.attr("data-original-rules")))&&(c={0:"0"}),"object"==typeof(n="object"!=typeof n?{0:"0"}:n)&&(l=G(n[Ft.epoAPI.math.toFloat(e)],o,r),d=St(l,o),s=G(c[Ft.epoAPI.math.toFloat(e)],o,r),p=St(s,o),t.find(".tmcp-field, .tmcp-fee-field ").toArray().forEach(function(t){t=Ft(t),g?("1"===t.attr("data-no-price")&&(s=l=0),t.data("raw_price",l),t.data("raw_original_price",s),t.data("price",At(l,o,t)),t.data("original_price",At(s,o,t)),H(t.closest(".tmcp-field-wrap").find(".tc-price"),l,d,s,p)):(t.data("price",0),t.data("original_price",0),t.closest(".tmcp-field-wrap").find(".amount").empty())}))}),f.data("tm_rules_init_done",1)),!g||(m=Ht(o),_=Bt(o),u={cart:t,current_variation:e,bundleid:i,epoTotalsContainer:o,product_price:m,product_original_price:_,apply_dpd:r,per_product_pricing:g},_=f.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),a.is_associated||(_=_.not(Ct.associatedEpoSelector+" .tmcp-field,"+Ct.associatedEpoSelector+" .tmcp-sub-fee-field,"+Ct.associatedEpoSelector+" .tmcp-fee-field")),f=_.filter(".tcenabled"),(!Ft.tcepo.initialActivation[v]||0===f.length&&0<_.length)&&(_.each(function(){T(Ft(this))}),Ft.tcepo.initialActivation[v]=!0),_.filter(".tcenabled").each(function(t,e){Lt(a,e,u)}),void _.each(function(t,e){Ft(e).on("tc_element_epo_rules",function(){Lt(a,e,u)})}))}))}function Ut(e,t,a,i,o,r,n){var c,l,d,s,p,m,_,f,u,g,h,v,y=0,b=0,w=e.epoEventId,x=void 0!==n?n:e.this_epo_totals_container.data("fields-price-rules"),k=t;return Ft.tcepo.lateFieldsPrices[w].forEach(function(t){c=t.price,l=t.original_price,h=t.pricetype,d=t.setter,g=t.bundleid,v="percentcurrenttotal"===h?"_hidden":"_hiddenfixed",(p=d).is("option")&&(p=d.closest("select")),k=parseFloat(Ft.epoAPI.applyFilter("tc_alter_product_price",k,p,r,e.this_epo_totals_container,o)),s=Ft.epoAPI.dom.id(p.attr("name")),m=Ft(".tc-totals-form.tm-totals-form-"+r.attr("data-cart-id")).attr("data-product-id"),_=Ft(".tc-totals-form.tm-totals-form-"+r.attr("data-cart-id")).attr("data-epo-id"),_=Ft(".tc-extra-product-options.tm-product-id-"+m+"[data-epo-id='"+_+"']").find("#"+s+v),g===o?("percentcurrenttotal"===h?(c=parseFloat(G(c,e.this_epo_totals_container,x))/100*parseFloat(k+a),l=parseFloat(G(l,e.this_epo_totals_container,x))/100*parseFloat(k+i)):"fixedcurrenttotal"===h&&(c=parseFloat(G(c,e.this_epo_totals_container,x))+parseFloat(a),l=parseFloat(G(l,e.this_epo_totals_container,x))+parseFloat(i)),p.data("tm-quantity")&&(c*=parseFloat(p.data("tm-quantity")),l*=parseFloat(p.data("tm-quantity"))),1===d.data("isset")&&T(d)&&(y+=c,b+=l),g=At(c,r,d),h=At(l,r,d),f=St(c,r,!1,!1,d),u=St(l,r,!1,!1,d),d.data("price",g),d.data("pricew",g),d.data("original_price",h),d.data("original_pricew",h),H(d.closest(".tmcp-field-wrap").find(".tc-price"),g,f,h,u),0===_.length&&p.before('<input type="hidden" id="'+s+v+'" name="'+s+v+'" value="'+N(c,r)+'">'),d.is(".tm-epo-field.tmcp-radio")&&!d.is(":checked")||_.val(N(c,r))):void 0!==d.data("pricew")&&(f=St(d.data("pricew"),r,!0,!1,d),u="",void 0!==d.data("original_pricew")&&(u=St(d.data("original_pricew"),r,!0,!1,d)),H(d.closest(".tmcp-field-wrap").find(".tc-price"),d.data("pricew"),f,d.data("original_pricew"),u))}),[y,b]}function K(){var t;"yes"!==It.tm_epo_no_lazy_load&&((t=g?Ft(g).find("img.tmlazy"):Ft(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),t.on("lazyshow",function(){Pt.trigger("lazyLoadXToncomplete")}))}function tt(t){var e,a;t&&t.find(".tm-owl-slider-section").each(function(){e=Ft(this),e.css("display"),e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),e=e.find(".tm-owl-slider"),a=e.css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({rtl:"1"===It.isRTL,dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[It.i18n_prev_text,It.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",a)})}function et(a,t){var e=t.closest(".cpf-element").data("repeater-max-rows"),i=t.find(".tc-repeater-element"),o=i.length,r=i.last(),i=i.last().find(".tmcp-ul-wrap"),n=a.data("tc-repeater-id"),c=a.data("tc-repeater-init");return!(e&&e<=o)&&(e<=o+1&&a.is(".tc-repeater-add")&&a.closest(".tc-repeater-wrap").addClass("tc-hidden"),i.is(".tm-element-ul-date, .tm-element-ul-time")&&(i.find(".tm-epo-field").tm_datepicker("destroy"),i.find(".tmcp-date-select").off()),i.is(".tm-element-ul-color")&&i.find(".tm-epo-field").spectrum("destroy"),(e=r.tcClone(!0)).find(".tm-epo-field").attr("id",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[data-for]").attr("data-for",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[for]").attr("for",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[data-field-id]").attr("data-field-id",function(t,e){return e.replace(/\_\d+$/g,"")+"_"+c}),e.find("[data-tm-date]").attr("data-tm-date",function(){return n+"_"+c}),e.find(".tm-epo-field").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+c+"]")}),e.find(".tm-qty").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+c+"]")}),e.find(".tmcp-date-select").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+c+"]")}),e.find(".tmcp-date-select").attr("id",function(t,e){return n+"_"+c+"_"+e.substring(e.lastIndexOf("_")+1)}),o=e.find(".tmcp-ul-wrap"),0<t.find(".tc-repeater-element").length&&(t.find(".tc-repeater-delete").removeClass("tc-hidden"),e.find(".tc-repeater-delete").removeClass("tc-hidden")),o.is(".tm-element-ul-checkbox")?(e.find("li.tmcp-field-wrap").removeClass("tc-active"),e.find(".tm-epo-field.tmcp-checkbox").prop("checked",!1),e.find(".tm-epo-field.tmcp-checkbox").filter(function(t,e){return-1!==Ft.inArray(Ft(e).val(),a.data("repeater-init-value"))}).prop("checked",!0).closest("li.tmcp-field-wrap").addClass("tc-active")):o.is(".tm-element-ul-radio")?(e.find("li.tmcp-field-wrap").removeClass("tc-active"),e.find(".tm-epo-field.tmcp-radio").filter(function(t,e){return Ft(e).val()===a.data("repeater-init-value")}).prop("checked",!0).closest("li.tmcp-field-wrap").addClass("tc-active")):e.find(".tm-epo-field").val(a.data("repeater-init-value")),o.is(".tm-element-ul-checkbox")||o.is(".tm-element-ul-radio")||e.find(".tm-epo-field").val(a.data("repeater-init-value")),a.data("tc-repeater-init",a.data("tc-repeater-init")+1),[e,r,i])}function at(i,t,e,a,o){var r=t.find(".tmcp-ul-wrap");r.is(".tm-element-ul-range")&&(t.find(".tm-range-picker").removeData("tc-picker-init").attr("class","tm-range-picker").html(""),gt(t)),r.is(".tm-element-ul-date, .tm-element-ul-time")&&(vt(a),vt(r)),r.is(".tm-element-ul-color")&&(rt(a),rt(r)),t.find(".tm-tooltip").removeData("tctooltip").removeData("tm-has-tm-tip"),Ft.tcToolTip(t.find(".tm-tooltip")),t.find(".tm-epo-field").removeData("addedtcEpoBeforeOptionPriceCalculation").each(function(t,e){var a=Ft(e);T(a,!1,!0),a.is(".tcenabled")&&Lt(i,a),a.on("tc_element_epo_rules",function(){Lt(i,a)})}),o&&(r.is(".tm-element-ul-checkbox")?t.find(".tm-epo-field.tmcp-checkbox").filter(":checked"):r.is(".tm-element-ul-radio")?t.find(".tm-epo-field.tmcp-radio").filter(":checked"):t.find(".tm-epo-field")).trigger("change.cpf")}function it(t,e,a,i){var o=t.closest(".cpf-element").data("repeater-min-rows"),r=t.find(".tc-repeater-element").length,n=e.index();o&&r<=o?i&&(o='<div class="tm-error-repeater tm-error tc-cell tcwidth-100">'+Ft.tc_validator.messages.repeaterminrows(o)+"</div>",i.tcToolTip({tip:o,onetime:!0,trigger:!0,tipclass:"tc-error"})):1!==r&&(2===r&&t.find(".tc-repeater-delete").addClass("tc-hidden"),a.is(".tc-repeater-add")&&a.closest(".tc-repeater-wrap").removeClass("tc-hidden"),e.remove(),a.data("tc-repeater-init",a.data("tc-repeater-init")-1),n+1!==r&&t.find(".tc-repeater-element").toArray().forEach(function(t,a){(t=Ft(t)).find(".tm-epo-field").attr("id",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[data-for]").attr("data-for",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[for]").attr("for",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[data-field-id]").attr("data-field-id",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find("[data-tm-date]").attr("data-tm-date",function(t,e){return e.replace(/\_\d+$/g,"")+(0!==a?"_"+a:"")}),t.find(".tm-epo-field").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+a+"]")}),t.find(".tm-qty").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+a+"]")}),t.find(".tmcp-date-select").attr("name",function(t,e){return e.replace(/\[\d+\]/g,"["+a+"]")})}))}function ot(t,p){var m,i;t&&(t=Ft(t)).length&&(m=p.main_cart,i=Tt(m),t.find(".tc-repeater-quantity").toArray().forEach(function(t,e){var a,s=Ft(t);s.data("tc-repeater-init")||(t=(a=s.find(".tc-repeater-element")).length,(a=a.first().find(".tm-epo-field")).is(":checkbox")?s.data("repeater-init-value",a.filter(":checked").toArray().map(function(t){return Ft(t).val()})):a.is(":radio")?s.data("repeater-init-value",a.filter(":checked").val()):s.data("repeater-init-value",a.val()),s.data("tc-repeater-init",t),s.data("tc-repeater-id",a.attr("id")),s.data("tc-repeater-name",a.attr("name")),i.length&&i.off("change.r"+e+"cpf input.r"+e+"cpf").on("change.r"+e+"cpf input.r"+e+"cpf",function(){var t,e,a,i,o,r,n=Ft(this),c=n.data("tm-prev-value"),l=n.val(),d=l-c;if(0!=d){if(t=s.find(".tc-element-inner-wrap"),0<d){if((e=t.find(".tc-repeater-element").eq(l-1)).length)return;for(a=0;a<d;a++)(o=et(s,t))&&(i=i?i.add(o[0]):o[0],0===a&&(o[1],r=o[2]));i&&(i.appendTo(t.find(".tc-element-container")),at(p,i,0,r))}else for(a=l-d;l<a;--a)e=t.find(".tc-repeater-element").eq(a-1),it(t,e,s);m.trigger({type:"tm-epo-update",norules:2})}}))}),t.find(".tc-repeater-add").toArray().forEach(function(t){var e,a,i=Ft(t);i.data("tc-repeater-init")||(t=(a=(e=i.closest(".tc-element-inner-wrap")).find(".tc-repeater-element")).length,a=a.first().find(".tm-epo-field"),1<e.find(".tc-repeater-element").length&&e.find(".tc-repeater-delete").removeClass("tc-hidden"),a.is(":checkbox")?i.data("repeater-init-value",a.filter(":checked").toArray().map(function(t){return Ft(t).val()})):a.is(":radio")?i.data("repeater-init-value",a.filter(":checked").val()):i.data("repeater-init-value",a.val()),i.data("tc-repeater-init",t),i.data("tc-repeater-id",a.attr("id")),i.data("tc-repeater-name",a.attr("name")),i.on("click.repeater",function(){var t=et(i,e);t&&(t[0].appendTo(e.find(".tc-element-container")),at(p,t[0],t[1],t[2],!0))}))}),t.find(".tc-repeater-delete .delete").on("click",function(){var t=Ft(this),e=t.closest(".tc-element-inner-wrap");it(e,t.closest(".tc-repeater-element"),e.find(".tc-repeater-add"),t)}))}function rt(t){t&&(t=Ft(t).find(".tm-color-picker")).length&&(t.spectrum({type:"color",theme:"epo",showButtons:!0,allowEmpty:!0,showInitial:!0,showInput:!0,clickoutFiresChange:!1,chooseText:It.closeText,cancelText:It.i18n_cancel}),t.spectrum("enable"))}function nt(t){t&&Ft(t).length&&Ft(function(){Ft(t).tclightbox()})}function ct(t){var e=t.closest(".tmcp-field-wrap").find("label img"),a=Ft(e).first().attr("data-original");return t.is("select.tm-product-image")&&(t=t.children("option:selected")),a=(a=a||Ft(e).first().attr("src"))||t.attr("data-image"),!(t.attr("data-imagep")?!t.attr("data-imagep"):!a)}function lt(t){var e,a,i,o,t=t.is_associated?t.this_epo_container.find(".tm-epo-field.tmcp-upload"):t.this_epo_container.find(".tm-epo-field.tmcp-upload").not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-field.tmcp-upload");try{t.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").toArray().forEach(function(t){e=Ft(t),(r||n)&&((a=new r("").clipboardData||new n).items.add(new File([e.attr("data-file")],e.attr("data-filename"))),t.files=a.files),i=e.attr("name"),o=e.attr("data-file"),e.trigger("change.tcupload"),e.after('<input type="hidden" class="tmcp-upload-hidden" name="'+i+'" value="'+o+'">'),e.removeAttr("data-file data-filename")})}catch(t){k.console.log(t),Ft(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").addClass("tc-nodt"),b=t}}function dt(t,e,a){var i=a.find(".flex-control-nav li:eq(0) img"),o=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),a=e,e=e.closest("a");t&&t.image_link&&t.image_link&&1<t.image_link.length?(null!==t.full_src&&""!==t.full_src||(t.full_src=t.image_link),null!==t.full_src_w&&""!==t.full_src_w||(t.full_src_w=a.attr("data-large_image_width")),null!==t.full_src_h&&""!==t.full_src_h||(t.full_src_h=a.attr("data-large_image_height")),a.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),a.tc_set_attr("src",t.image_link,0),a.tc_set_attr("srcset",t.image_srcset,0),a.tc_set_attr("sizes",t.image_sizes,0),a.tc_set_attr("title",t.image_title,0),a.tc_set_attr("alt",t.image_alt,0),a.tc_set_attr("data-src",t.full_src,0),a.tc_set_attr("data-large_image",t.full_src,0),a.tc_set_attr("data-large_image_width",t.full_src_w,0),a.tc_set_attr("data-large_image_height",t.full_src_h,0),o.tc_set_attr("data-thumb",t.image_link,1)),i.length&&i.tc_set_attr("src",t.image_link,2),e.length&&(e.tc_set_attr("href",t.full_src,3),e.tc_set_attr("title",t.image_caption,3))):(a.length&&(a.tc_reset_attr("src",0),a.tc_reset_attr("srcset",0),a.tc_reset_attr("sizes",0),a.tc_reset_attr("title",0),a.tc_reset_attr("alt",0),a.tc_reset_attr("data-src",0),a.tc_reset_attr("data-large_image",0),a.tc_reset_attr("data-large_image_width",0),a.tc_reset_attr("data-large_image_height",0),o.tc_reset_attr("data-thumb",1)),i.length&&i.tc_reset_attr("src",2),e.length&&(e.tc_reset_attr("href",3),e.tc_reset_attr("title",3)))}function st(t,e){var a;return t.is_associated?a=e.find(".tc-product-image .wp-post-image").first():""!==It.tm_epo_global_product_image_selector?a=Ft(It.tm_epo_global_product_image_selector):0===(a=0===(a=e.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length?e.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first():a).length&&(a=e.find(".elementor-widget-ae-post-image .wp-post-image").first()),a=1<Ft(a).length?Ft(a).first():a}function pt(t){var e,a;return t.is_associated?t.main_product.closest(".tc-epo-element-product-container"):(e=t.main_product,a=t.product_id,(t=e.closest("#product-"+a)).length<=0?e.closest(".post-"+a):t)}function mt(t,e,a,i,o,r,n){var c,l,d;for(c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&(c=t[c]).enabled)switch(c.type){case"yith":e?(e.attr("srcset",a).attr("src-orig",a),c.element.data("yith_magnifier")&&c.element.yith_magnifier("destroy"),l={elements:{zoom:Ft(".yith_magnifier_zoom"),zoomImage:e,gallery:Ft(".yith_magnifier_gallery li a")}},c.element.yith_magnifier(Ft.extend(!0,{},k.yith_magnifier_options,l))):(i?c.yith_wcmg_zoom.attr("href",c.yith_wcmg_default_zoom):c.yith_wcmg_zoom.attr("href",c._yith_wcmg_default_zoom),c.element.data("yith_magnifier")&&c.element.yith_magnifier("destroy"),c.element.yith_magnifier(k.yith_magnifier_options));break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,c),150);break;case"flexslider":Pt.trigger("resize");break;case"elevatezoom":c.element.each(function(t,e){e=e(this).data("elevateZoom");void 0!==e&&e.swaptheimage(t,t)}.bind(null,a,Ft));break;case"easyzoom":c.element.swap(null,a);break;case"easyzoom-flatsome":c.element.swap(a,a);break;case"woocommerce":c.element.flexslider(0),d=c.element,k.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,d,Pt),10);break;case"zoom":n&&(l=n.find(".woocommerce-product-gallery--with-images").width(),d=!1,(d=c.element.find("img.wp-post-image").attr("data-large_image_width")>l?!0:d)?(d={touch:!1},"ontouchstart"in k&&(d.on="click"),c.element.trigger("zoom.destroy"),c.element.zoom(d)):c.element.trigger("zoom.destroy"))}Pt.trigger("tm_gallery_compatibility_actions",{event_data:o,product_element:n,form:r})}function _t(t,e,a){var i,o,r,n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x;return t.is_associated?{}:(i=!1,o=Ft(".images"),r=Ft(".yith_magnifier_zoom"),n=o.find(".yith_magnifier_zoom").first().attr("href"),c=o.find(".yith_magnifier_zoom img").first().attr("src"),l=!1,d=Ft(".iosSlider.product-gallery-slider,.iosSlider.product-slider"),s=!1,p=a.find(".images .fusion-flexslider"),m=e.data("elevateZoom")||!1,_=a.find("div.product-images .woocommerce-main-image"),f=!1,u=a.find(".images .easyzoom"),g=!1,h=a.find(".images .easyzoom"),v=!1,y=a.find(".woocommerce-product-gallery"),b=k.wc_single_product_params,x="function"==typeof Ft.fn.zoom&&b&&b.zoom_enabled,t=!1,k.yith_magnifier_options&&o.data("yith_magnifier")&&(i=!0),d.length&&d.iosSlider&&(l=!0),p.length&&p.flexslider&&(s=!0),u.length&&u.filter(".images .easyzoom.first").data("easyZoom")&&(u=u.filter(".images .easyzoom.first").data("easyZoom"),f=!0),f||(h=a.find(".images .has-image-zoom .slide")).length&&h.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(h=h.filter(".images .has-image-zoom .slide.first").data("easyZoom"),g=!0),"complete"===F.readyState?setTimeout(function(){u.length&&u.data("easyZoom")&&(u=u.data("easyZoom"),f=!0),h.length&&h.data("easyZoom")&&(h=h.data("easyZoom"),g=!0)},150):Pt.on("load",function(){setTimeout(function(){u.length&&u.data("easyZoom")&&(u=u.data("easyZoom"),f=!0),h.length&&h.data("easyZoom")&&(h=h.data("easyZoom"),g=!0)},150)}),y.length&&y.data("flexslider")&&(v=!0,"function"==typeof Ft.fn.zoom&&b&&b.zoom_enabled&&0<(w=e.closest(".woocommerce-product-gallery__image")).length&&e.width()>Ft(".woocommerce-product-gallery").width()&&(e.data.wc27_zoom_target=w)),!v&&x&&(t=a.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:i,element:o,yith_wcmg_zoom:r,_yith_wcmg_default_zoom:n,yith_wcmg_default_image:c},is_iosSlider:{type:"iosslider",enabled:l,element:d},is_flexslider:{type:"flexslider",enabled:s,element:p},is_elevateZoom:{type:"elevatezoom",enabled:m,element:_},is_easyzoom:{type:"easyzoom",enabled:f,element:u},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:g,element:h},is_wc27_gallery:{type:"woocommerce",enabled:v,element:y},is_zoom_enabled:{type:"zoom",enabled:!v&&x,element:t}})}function ft(t){var n,a,i,o,c=t.is_associated?t.this_epo_container:t.this_epo_container.not(Ct.epoSelector+" "+Ct.associatedEpoSelector),l=t.variations_form,e=t.main_product,r=t.form,d=pt(t),s=[],p=t.is_associated?"tc_":"",m=st(t,d),_=_t(t,m,d);0<Ft(m).length&&(r.on(p+"reset_image.tcpi",function(){Ft.tc_product_image=Ft.tc_replace_object_values(Ft.tc_product_image,Ft.tc_product_image_store),s=[],Ft(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(n=Ft(this))&&""!==n.val()&&s.push(n)}),s.length?s[s.length-1].trigger("tm_trigger_product_image"):Ft.tc_product_image_store=Ft.tc_populate_store(m,d)}),r.on(p+"found_variation.tcpi",function(){var t,e,a,i,o,r;t=m,o=(e=d).find(".flex-control-nav li:eq(0) img"),i=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=(a=t).closest("a"),Ft.isEmptyObject(Ft.tc_product_image)?Ft.tc_product_image_store=Ft.tc_populate_store(t,e):(Ft.tc_product_image_store=Ft.tc_pre_populate_store(),Ft.tc_product_image_store=Ft.tc_maybe_copy_object_values(Ft.tc_product_image_store,Ft.tc_product_image)),a.tc_update_attr("src",0),a.tc_update_attr("srcset",0),a.tc_update_attr("sizes",0),a.tc_update_attr("title",0),a.tc_update_attr("alt",0),a.tc_update_attr("data-src",0),a.tc_update_attr("data-large_image",0),a.tc_update_attr("data-large_image_width",0),a.tc_update_attr("data-large_image_height",0),i.tc_update_attr("data-thumb",1),o.tc_update_attr("src",2),r.tc_update_attr("href",3),r.tc_update_attr("title",3),s=[],Ft(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(n=Ft(this))&&""!==n.val()&&s.push(n)}),s.length&&(a=m,o=(i=d).find(".flex-control-nav li:eq(0) img"),r=i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),a=(i=a).closest("a"),i.attr("data-o_src",Ft.tc_product_image_store[0].src),i.attr("data-o_srcset",Ft.tc_product_image_store[0].srcset),i.attr("data-o_sizes",Ft.tc_product_image_store[0].sizes),i.attr("data-o_title",Ft.tc_product_image_store[0].title),i.attr("data-o_alt",Ft.tc_product_image_store[0].alt),i.attr("data-o_data-src",Ft.tc_product_image_store[0]["data-src"]),i.attr("data-o_data-large_image",Ft.tc_product_image_store[0]["data-large_image"]),i.attr("data-o_data-large_image_width",Ft.tc_product_image_store[0]["data-large_image_width"]),i.attr("data-o_data-large_image_height",Ft.tc_product_image_store[0]["data-large_image_height"]),r.attr("data-o_data-thumb",Ft.tc_product_image_store[1]["data-thumb"]),Ft.tc_product_image_store[2]&&o.attr("data-o_src",Ft.tc_product_image_store[2].src),a.attr("data-o_href",Ft.tc_product_image_store[3].href),a.attr("data-o_title",Ft.tc_product_image_store[3].title),s[s.length-1].trigger("tm_trigger_product_image"))}),Ft.tc_product_image_store=Ft.tc_maybe_copy_object_values_from_img(Ft.tc_product_image_store,m,d),e.off("tm_change_product_image").on("tm_change_product_image",function(t,e){t.stopImmediatePropagation(),a=e.element,i=e.element_current,a&&i&&(o=a.data("imagep"),(i="")!==o?i="imagep":"images"===a.data("changes-product-image")&&(i="image"),void 0!==(o=(o=e.element_current.data("image-variations"))&&o[i])&&(s=[],Ft(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(n=(n=Ft(this)).is("option")?n.closest("select"):n)&&""!==n.val()&&s.push(n)}),s.length&&!s[s.length-1].is(a)||(dt(o,m,d),mt(_,m,o.image_link,!1,e,r,d))))}),e.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){t.stopImmediatePropagation(),a=e.element,s=[],a&&(Ft(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(n=Ft(this))&&""!==n.val()&&s.push(n)}),s.length&&!s[s.length-1].is(a))?s[s.length-1].trigger("tm_trigger_product_image"):(dt(!1,m,d),mt(_,!1,m.attr("src"),!1,e,r,d))}),s=[],Ft(c.find(".tm-product-image:checked,select.tm-product-image")).add(l.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(n=Ft(this))&&""!==n.val()&&s.push(n)}),s.length&&s[s.length-1].trigger("tm_trigger_product_image")),Pt.trigger("tm_product_image_loaded")}function ut(r){setTimeout(function(){var t,u,g,f,h,v,e,a,y,b,i,o,w,x;"inline"===It.tm_epo_global_product_image_mode?(e=(t=r).is_associated?t.this_epo_container:t.this_epo_container.not(Ct.epoSelector+" "+Ct.associatedEpoSelector),a=t.main_product,y=t.product_id,b=t.form,i=pt(t),o=[],w=st(t,i),x=_t(t,w,i),0<Ft(w).length&&(w.data("tm-current-image",!1),u=w.closest("a"),g=w.attr("src"),f=w.width(),h=w.height(),a.off("tm_change_product_image").on("tm_change_product_image",function(t,e){var a,i,o,r=[],n=e.element.closest(".cpf-section"),c=n.is(".tm-epo-variation-section"),l=e.epo_holder,d=(l=c?n:l).find(".tm-product-image:checked,select.tm-product-image"),r=[],s=e.element.attr("id"),p=!0,c=e.main_product,m=c.closest("#product-"+y),n=f,l=h,_=Ft("<div class='blockUI blockOverlay tm-preloader-img'></div>");0===(c=(m=m.length<=0?c.closest(".post-"+y):m).find("#"+s+"_tmimage")).length&&(c=w),o=function(){_.remove(),b.tc_image_update(!1),w.data("tm-current-image",!1),m.find(".tm-clone-product-image").hide(),w.show()},e.src===c.attr("src")&&c.is(":visible")||(!1!==e.src?(_.css({width:n,height:l}),d.each(function(){T(v=Ft(this))&&ct(v)&&O({element:v.closest(".cpf-element"),operator:"isnotempty",value:""})&&r.push(v)}),(d=r.length?r[r.length-1]:d).attr("id")!==e.element.attr("id")&&(p=!1),a=w.tcClone(),i=new Image,a.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),p&&w.before(_),x.is_yith_wcmg.yith_wcmg_default_zoom=x.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),x.is_yith_wcmg.yith_wcmg_default_image=x.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),i.onerror=function(){o()},i.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();m.find("#"+s+"_tmimage").remove(),m.find(".tm-clone-product-image").hide(),a.prop("src",i.src).hide(),w.hide().after(a),a.css("opacity",0).show(),mt(x,a,i.src),_.animate({opacity:0},750,"easeOutExpo",function(){_.remove()}),a.animate({opacity:1},k.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),Pt.trigger("tm_change_product_image_loaded",{src:e.src,element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})},a.attr("id",s+"_tmimage").addClass("tm-clone-product-image").hide(),a.attr("src-orig")&&a.attr("src-orig",e.src),p?(i.src=e.src,b.tc_image_update(e.element,a),w.data("tm-current-image",s),Pt.trigger("tm_change_product_image_show",{src:e.src,element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})):(a.prop("src",e.src).hide(),w.after(a)),Pt.trigger("tm_change_product_image_end",{src:e.src,element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})):o())}),a.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){var a,i,o,r,n,c,l,d,s,p,m,_;if(Pt.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder}),a=e.element.attr("id"),i=(d=e.main_product).closest("#product-"+y),r=(o=e.element.closest(".cpf-section")).is(".tm-epo-variation-section"),l=!1,p=g,m=e.epo_holder,r&&(m=o),d=(i=i.length<=0?d.closest(".post-"+y):i).find("#"+a+"_tmimage").is(":visible"),i.find("#"+a+"_tmimage").remove(),0===i.find(".tm-clone-product-image").length)w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1);else{if(!d)return void Pt.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});for(d=i.find(".tm-clone-product-image").length,a=w.data("tm-current-image"),_=d-1;0<=_;--_){if(n=(c=i.find(".tm-clone-product-image").eq(_)).attr("id").replace("_tmimage",""),(s=m.find("[id='"+n+"']")).is(":checked")&&s.closest(".cpf-element").is(":visible")){i.find(".tm-clone-product-image").eq(_).show(),u.attr("href",i.find(".tm-clone-product-image").eq(_).prop("src")),w.data("tm-current-image",n),l=!0;break}i.find(".tm-clone-product-image").eq(_).hide()}l?i.find("#"+a+"_tmimage").remove():(w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1))}l&&(p=c.attr("src")),mt(x,!1,p,i.find(".tm-clone-product-image").filter(":visible").length),Pt.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),a.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){var a,i,o,r,n,c=e.main_product,l=c.closest("#product-"+y),d=e.element?e.element.closest(".cpf-section"):Ft(c.find(".tm-epo-variation-section").first(),e.epo_holder),s=d.is(".tm-epo-variation-section"),p=e.epo_holder,m=(p=s?d:p).find(".tm-product-image:checked,select.tm-product-image"),_="",f=!(a=[]),s=w.data("tm-current-image"),d=g;if(l.length<=0&&(l=c.closest(".post-"+y)),(m=(p=c.find(".tm-epo-variation-section").first().add(e.epo_holder)).find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(v=Ft(this))&&ct(v)&&O({element:v.closest(".cpf-element"),operator:"isnotempty",value:""})&&a.push(v)}),a.length&&(_=(m=a[a.length-1]).attr("id")),!a.length||!m.length||s&&_===s){if(_=p.find("[id='"+s+"']").closest(".cpf-element"),s&&(!1===_.data("isactive")||!1===_.closest(".cpf-section").data("isactive"))){if(l.find("#"+s+"_tmimage").remove(),0===(s=l.find(".tm-clone-product-image").length))w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1);else{for(n=s-1;0<=n;--n){if(o=(i=l.find(".tm-clone-product-image").eq(n)).attr("id").replace("_tmimage",""),(r=p.find("[id='"+o+"']")).is(":checked")&&r.closest(".cpf-element").is(":visible")){l.find(".tm-clone-product-image").eq(n).show(),u.attr("href",l.find(".tm-clone-product-image").eq(n).prop("src")),w.data("tm-current-image",o),f=!0;break}l.find(".tm-clone-product-image").eq(n).hide()}f||(w.show(),w.data("tm-current-image",!1),b.tc_image_update(!1))}f&&(d=i.attr("src")),mt(x,!1,d,l.find(".tm-clone-product-image").filter(":visible").length)}}else m.last().trigger("tm_trigger_product_image")}),Ft(e.find(".tm-product-image:checked,select.tm-product-image")).add(a.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){T(v=Ft(this))&&""!==v.val()&&o.push(v)}),o.length&&o[o.length-1].trigger("tm_trigger_product_image")),Pt.trigger("tm_product_image_loaded")):ft(r)},k.tc_epo_product_image_setup_delay||0)}function gt(m){_&&(m.find(".tm-range-picker").toArray().forEach(function(t){var a,e=Ft(t),i=e.attr("data-step").split("."),o=m.find("#"+Ft.epoAPI.dom.id(e.attr("data-field-id"))),r=parseFloat(e.attr("data-min")),n=parseFloat(e.attr("data-max")),c=parseFloat(e.attr("data-start")),l=parseFloat(e.attr("data-step")),d=e.attr("data-show-picker-value"),s=e.closest("li").find(".tm-show-picker-value"),p=parseFloat(e.attr("data-noofpips")),t=null;e.data("tc-picker-init")||(e.data("tc-picker-init",1),i=1===i.length?0:i[1].length,Number.isFinite(r)||(r=0),(n=!Number.isFinite(n)?0:n)<=r&&(n=parseFloat(n)+1),c=Ft.epoAPI.math.unformat(c,Ct.localDecimalSeparator),c=Et(c=!Number.isFinite(c)?0:c,{precision:i}),Number.isFinite(l)||(l=0),(p=!Number.isFinite(p)?10:p)<2&&(p=2),"yes"===e.attr("data-pips")&&(t={mode:"count",values:p,filter:function(t,e){return t=parseFloat(Ft.epoAPI.math.toFixed(t,i)),l<=0?0:1!==e||Number.isInteger(t)?e:2},format:{from:function(t){return Ft.epoAPI.math.unformat(t,Ct.localInputDecimalSeparator)},to:function(t){return Et(t,{precision:i})}},density:2}),_.create(e.get(0),{direction:It.text_direction,start:c,step:l,connect:"lower",behaviour:"tap",format:{from:function(t){return Ft.epoAPI.math.unformat(t,Ct.localDecimalSeparator)},to:function(t){return Et(t,{precision:i})}},range:{min:[r],max:[n]},pips:t,tooltips:{from:function(t){return Ft.epoAPI.math.unformat(t,Ct.localInputDecimalSeparator)},to:function(t){return Et(t,{precision:i})}}}),a=e.find(".noui-handle-lower"),e.get(0).noUiSlider.on("slide",function(){a.trigger("tmmovetooltip"),o.trigger("change.cpf")}),e.get(0).noUiSlider.on("update",function(t,e){t[e]=Ft.epoAPI.math.unformat(t[e],Ct.localDecimalSeparator),e=0,"left"!==d&&"right"!==d&&a.attr("title",Et(t[e],{precision:i})),o.val(t[e]).trigger("change"),""!==d&&s.html(Et(t[e],{precision:i}))}),""!==d&&s.html(c),"left"!==d&&"right"!==d&&(a.attr("title",c),e.addClass("noui-show-tooltip")))}),Ft(F).on("click",".tm-show-picker-value",function(){var t=Ft(this),e=t.closest(".tmcp-field-wrap"),a=e.find(".tmcp-range").val(),i=t.closest(".tmcp-field-wrap").find(".tm-range-picker");t.addClass("tc-hidden").after(Ft('<input type="number" class="tm-show-picker-value-edit">')),(t=e.find(".tm-show-picker-value-edit")).focus().val(a).wrap('<div class="tm-show-picker-value-edit-wrap"></div>'),t.attr("step",i.attr("data-step")),t.attr("min",i.attr("data-min")),t.attr("max",i.attr("data-max")),Ft(F).data("range-picker-edit",e.find(".tm-show-picker-value-edit"))}),Ft(F).on("change input",".tm-show-picker-value-edit",function(){var t=Ft(this),e=t.closest(".tmcp-field-wrap").find(".tm-range-picker"),a=e.attr("data-step").split("."),t=t.val(),a=1===a.length?0:a[1].length;e.get(0).noUiSlider.set([Et(t,{precision:a}),null])}),Ft(F).on("keydown",".tm-show-picker-value-edit",function(t){var e=k.event?k.event.keyCode:t.which;13===e&&t.preventDefault()}),Ft(F).on("click",function(t){Ft(F).data("range-picker-edit")&&!Ft(t.target).is(".tm-show-picker-value")&&0===Ft(t.target).closest(".tm-show-picker-value-edit-wrap").length&&((t=Ft(F).data("range-picker-edit")).closest(".tmcp-field-wrap").find(".tm-show-picker-value").data("has-edit",0).removeClass("tc-hidden"),t.closest(".tm-show-picker-value-edit-wrap").remove(),Ft(F).removeData("range-picker-edit"))}))}function ht(t){var e,a,i,o,r;if(t.toString().isNumeric()&&0!==(e=0===t?t:0<t?1:-1)){for(a=new Date,o=!(i=1),r=Math.abs(t);i<=r;)!1===o&&(o=0),a.setDate(a.getDate()+ +e),o++,0!==a.getDay()&&6!==a.getDay()&&i++;!1!==o&&(t=o*e)}return t}function vt(y){var h,t,e=".tm-epo-timepicker";Ft.tm_datepicker&&(h=Ft("input").map(function(){return this.id}).get().join(" "),(t=F.createElement("input")).setAttribute("type","date"),"text"===t.type&&(e=".tm-epo-system-timepicker"),y.find(e).toArray().forEach(function(t){var a=Ft(t),e=null,i=null,o=a.attr("data-time-format").trim(),r=a.attr("data-time-theme").trim(),n=a.attr("data-time-theme-size").trim(),c=a.attr("data-time-theme-position").trim(),l=a.attr("data-tranlation-hour").trim(),d=a.attr("data-tranlation-minute").trim(),t=a.attr("data-tranlation-second").trim();a.attr("type","text"),""!==a.attr("data-min-time").trim()&&(e=a.attr("data-min-time").trim()),""!==a.attr("data-max-time").trim()&&(i=a.attr("data-max-time").trim()),""!==a.attr("data-custom-time-format").trim()&&(o=a.attr("data-custom-time-format").trim()),l=l||It.hourText,d=d||It.minuteText,t=t||It.secondText,a.tm_timepicker(Object.assign({isRTL:It.isRTL,hourText:l,minuteText:d,secondText:t,timeFormat:o,minTime:e,maxTime:i,closeText:It.closeText,showOn:"both",buttonText:"",beforeShow:function(t,e){Ft(e.dpDiv).removeClass(h).removeClass("tm-ui-skin-epo tm-ui-skin-epo-black tm-datepicker-medium tm-datepicker-small tm-datepicker-large tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+r+" tm-timepicker tm-datepicker tm-datepicker-"+c+" tm-datepicker-"+n).appendTo("body"),P.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){a.tm_timepicker("hide")}),I.addClass("tm-static"),a.prop("readonly",!0),Pt.trigger({type:"tm-timepicker-beforeShow",input:t,inst:e})},onClose:function(){I.removeClass("tm-static"),a.prop("readonly",!1),a.trigger("change")}},k.timepicker_settings||{})),Ft("#ui-tm-datepicker-div").hide()}),y.find(".tm-epo-datepicker").toArray().forEach(function(t){var e,l=Ft(t),a=parseInt(l.attr("data-start-year").trim(),10),i=parseInt(l.attr("data-end-year").trim(),10),o=l.attr("data-min-date").trim(),r=l.attr("data-max-date").trim(),d=l.attr("data-disabled-dates").trim(),s=l.attr("data-enabled-only-dates").trim(),n=l.attr("data-exlude-disabled").trim(),p=l.attr("data-disabled-weekdays").trim().split(","),m=l.attr("data-disabled-months").trim().split(","),_=l.attr("data-date-format").trim(),c=l.attr("data-date-showon").trim(),t=l.attr("data-date-defaultdate").trim(),f=l.attr("data-date-theme").trim(),u=l.attr("data-date-theme-size").trim(),g=l.attr("data-date-theme-position").trim();""!==d&&(e=d.split(","),-1!==d.indexOf(",")&&0<e.length&&(d=e)),""!==s&&(e=s.split(","),-1!==s.indexOf(",")&&0<e.length&&(s=e)),""===o?o=""===a?null:new Date(a,0,1):n&&(o=ht(o)),""===r?r=""===i?null:new Date(i,11,31):n&&(r=ht(r)),l.data("tc-enabled_only_dates",s),l.data("tc-disabled_weekdays",p),l.data("tc-disabled_months",m),l.data("tc-disabled_dates",d),l.data("tc-format",_),l.tm_datepicker({monthNames:It.monthNames,monthNamesShort:It.monthNamesShort,dayNames:It.dayNames,dayNamesShort:It.dayNamesShort,dayNamesMin:It.dayNamesMin,isRTL:It.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:c,defaultDate:t,buttonText:"",showButtonPanel:!0,firstDay:It.first_day,closeText:It.closeText,currentText:It.currentText,dateFormat:_,minDate:o,maxDate:r,onSelect:function(){var t=Ft(this),e="#"+Ft.epoAPI.dom.id(t.attr("id")),a=t.tm_datepicker("getDate"),i="",o="",r="",n=y.find(e+"_day"),c=y.find(e+"_month"),l=y.find(e+"_year");a&&(i=a.getDate(),o=a.getMonth()+1,r=a.getFullYear(),e=Ft.tm_datepicker.formatDate(_,a),(-1!==m.indexOf(o.toString())||-1!==p.indexOf(a.getDay().toString())||-1!==d.indexOf(e)||""!==s&&-1===s.indexOf(e))&&(e=t.data("tm-last-date"),e=t.data("tm-last-date")?t.data("tm-last-date"):"",t.val(e),t.tm_datepicker("setDate",e),r=e?(i=(a=t.tm_datepicker("getDate")).getDate(),o=a.getMonth()+1,a.getFullYear()):o=i="")),n.val(i),c.val(o),l.val(r),t.data("tm-last-date",t.val())},beforeShow:function(t,c){Ft(c.dpDiv).removeClass(h).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+f+" tm-datepicker tm-datepicker-"+g+" tm-datepicker-"+u).appendTo("body"),P.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){l.tm_datepicker("hide")}),P.off("click",".ui-tm-datepicker-current").on("click",".ui-tm-datepicker-current",function(){var t,e=new Date,a=Ft.tm_datepicker._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate())),i=a.getDay(),o=a.getMonth()+1,r="#"+c.id.replace(/\\\\/g,"\\"),n=!1,e=l.tm_datepicker("getDate");if(""!==s)t=Ft.tm_datepicker.formatDate(_,e),n=-1!==s.indexOf(t);else if(-1!==m.indexOf(o.toString())||-1!==p.indexOf(i.toString()))n=!1;else{if(""!==d)return t=Ft.tm_datepicker.formatDate(_,e),[-1===d.indexOf(t),""];n=!0}n&&(Ft.tm_datepicker._setDate(c,a),Ft.tm_datepicker._gotoToday(r))}),I.addClass("tm-static"),l.prop("readonly",!0),Pt.trigger({type:"tm-datepicker-beforeShow",input:t,inst:c})},onClose:function(){I.removeClass("tm-static"),l.prop("readonly",!1),l.trigger("change")},beforeShowDay:function(t){var e,a=t.getDay(),i=t.getMonth()+1;return""!==s?(e=Ft.tm_datepicker.formatDate(_,t),[-1!==s.indexOf(e),""]):-1!==m.indexOf(i.toString())||-1!==p.indexOf(a.toString())?[!1,""]:""!==d?(e=Ft.tm_datepicker.formatDate(_,t),[-1===d.indexOf(e),""]):[!0,""]}}),Ft("#ui-tm-datepicker-div").hide()}),y.find(".tmcp-date-select").on("change.cpf",function(){var t="#"+Ft.epoAPI.dom.id(Ft(this).attr("data-tm-date")),e=y.find(t),a=e.attr("data-date-format"),i=y.find(t+"_day").val(),o=y.find(t+"_month").val(),t=y.find(t+"_year").val(),a=Ft.tm_datepicker.formatDate(a,new Date(t,parseInt(o,10)-1,i));0<i&&0<o&&0<t?(e.tm_datepicker("setDate",a),e.trigger("change")):(e.val(""),e.trigger("change.cpf"))}).on("focus.cpf",function(){var t="#"+Ft.epoAPI.dom.id(Ft(this).attr("data-tm-date")),f=y.find(t),e=y.find(t+"_day"),a=y.find(t+"_month"),t=y.find(t+"_year"),u=e.val(),g=a.val(),h=t.val(),v=Ft(this);""!==h&&""!==g&&""!==u||""!==h&&""!==g&&""===u||""!==u&&""!==h&&""===g||""!==u&&""!==g&&""===h?v.find("option").toArray().forEach(function(t){var e,a,i,o,r,n,c,l,d,s,p,m=Ft(t),_=m.val(),t=h+"-"+g+"-"+u;if(v.is(".tmcp-date-day")){if(""===h||""===g)return;t=h+"-"+g+"-"+_}else if(v.is(".tmcp-date-month")){if(""===h||""===u)return;t=h+"-"+_+"-"+u}else if(v.is(".tmcp-date-year")){if(""===u||""===g)return;t=_+"-"+g+"-"+u}if(""!==_)try{(e=Ft.tm_datepicker.parseDate("yy-mm-dd",t))&&(a=e,r=Ft(i=f),n=Ft.tm_datepicker._getInst(r[0]),c=r.data("tc-enabled_only_dates"),l=r.data("tc-disabled_weekdays"),d=r.data("tc-disabled_months"),s=r.data("tc-disabled_dates"),p=r.data("tc-format"),i=a.getDay(),r=a.getDay()+1,!Ft.tm_datepicker._isInRange(n,a)||(""!==c?(o=Ft.tm_datepicker.formatDate(p,a),-1===c.indexOf(o)):-1!==l.indexOf(i.toString())||-1!==d.indexOf(r.toString())||""!==s&&(o=Ft.tm_datepicker.formatDate(p,a),-1!==s.indexOf(o)))?m.prop("disabled",!0):m.prop("disabled",!1))}catch(t){k.console.log(t),m.prop("disabled",!0),b=t}}):(e.find("option").prop("disabled",!1),a.find("option").prop("disabled",!1),t.find("option").prop("disabled",!1))}),Pt.on("resizestart",function(){var t=Ft(F.activeElement);t.is(".hasDatepicker")&&(t.data("resizestarted",!0),Ft(k).width()<768?t.data("resizewidth",!0):t.tm_datepicker("hide"))}),Pt.on("resizestop",function(){var t=Ft(F.activeElement);t.is(".hasDatepicker")&&t.data("resizestarted")&&(t.data("resizewidth")&&t.tm_datepicker("hide"),t.tm_datepicker("show")),t.data("resizestarted",!1),t.data("resizewidth",!1)}))}function yt(t){var e=t.epoEventId,a=t.main_product,i=!Ft.tcepo.formSubmitEvents[e].some(function(t){return typeof t&&("function"==typeof t.trigger||!1)&&!t.trigger()});return Ft.tcepo.formSubmitEvents[e].forEach(function(t){"object"==typeof t&&(i?t.on_true():t.on_false())}),i||setTimeout(function(){a.find(Ct.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").prop("disabled",!1).removeClass("fpd-disabled")},100),Pt.trigger("tm-apply-submit-events",{epo:{form_is_submit:i}}),i}function bt(e){var n,c,a=e.form,t=e.this_epo_container,i=e.main_product,o=e.epoEventId;return"yes"===It.tm_epo_global_enable_validation&&(n={},t.find(".tmcp-ul-wrap").toArray().forEach(function(a){var i,t,e,o,r;a=Ft(a),(c=a.data("tm-validation"))&&"object"===Ft.tmType(c)&&(t=(i=a.find(".tm-epo-field")).first().attr("name"),a.is(".tm-extra-product-options-radio.tm-element-ul-radio")?(t=i.last().attr("name"),n[t]=c):a.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?i.each(function(t,e){"required"in c&&(c.required=function(t){var e=a.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===e?i.last().attr("name")===Ft(t).attr("name"):e<=0}),n[Ft(e).attr("name")]=c}):(a.is(".tm-extra-product-options-product.tm-element-ul-product")&&"required"in c&&(e=a.find(".product-variation-id").first().attr("name"),r=a.find(".tc-epo-field-product").first(),o={required:function(){return!(!r.is("select")||!T(r,!0)||"variable"!==r.children(":selected").attr("data-type"))}},n[e]=o),n[t]=c))}),a.removeData("tc_validator"),a.tc_validate({focusInvalid:!1,ignore:Ct.qtySelector+",.tcdisabled,.tmcp-upload-hidden,#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tc-epo-variable-product-selector,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:n,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return t.addClass("tc-cell tcwidth-100"),"before"===It.tm_epo_global_error_label_placement?e.closest(".tc-element-container").before(t):e.closest(".tc-element-container").after(t),!1},invalidHandler:function(t,e){Pt.trigger("tm-invalidHandler",{epo:{validator:e}}),setTimeout(function(){i.find(Ct.addToCartButtonSelector).first().is(".disabled")||(i.find(Ct.addToCartButtonSelector).first().removeClass("loading").prop("disabled",!1).removeClass("fpd-disabled"),i.find(Ct.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").prop("disabled",!1).removeClass("fpd-disabled"))},100),e.errorList&&e.errorList[0]&&e.errorList[0].element&&x(Ft(e.errorList[0].element),o)},submitHandler:function(){var t;return e.is_quickview||(i.find(Ct.addToCartButtonSelector).first().addClass("disabled"),t=function(){i.find(Ct.addToCartButtonSelector).first().removeClass("disabled"),P.off("ajaxSuccess",t)},P.on("ajaxSuccess",t)),yt(e)}}),a.find(Ct.addToCartButtonSelector).on("click",function(t){a.tc_validate().form()||(t.preventDefault(),t.stopImmediatePropagation())}),!0)}function Jt(h,t,e,v,y,b,w,x,k){t=t.find(e);return!1===h.is_associated&&(t=t.not(Ct.associatedEpoSelector+" "+e)),v=v||0,y=y||0,b=b||[],(t=!x?t.filter(".tcenabled"):t).toArray().forEach(function(t){var e,a,i,o,r,n,c=Ft(t),l="",d=c.closest(".cpf-element"),s=c.closest(".tmcp-field-wrap"),p=d.attr("data-fblabelshow"),m=d.attr("data-fbvalueshow"),_="",f=s.find(".tm-qty").val(),u="",g=!1;""===p&&(_=d.find(".tc-epo-label").html()),void 0===f&&(f=""),c.is(":checkbox, :radio, :input")&&(o=i=a=e=0,c.is(".tmcp-checkbox, .tmcp-radio")?x||c.is(":checked")?(e=c.data("raw_price"),a=c.data("price"),i=c.data("raw_original_price"),o=c.data("original_price"),w=!0,c.data("isset",1),s=(t=c.closest("li.tmcp-field-wrap")).find(".checkbox-image,.radio-image"),u=l="",(d=c.closest("li.tmcp-field-wrap").find(".tm-label")).length&&(l=d.html(),u=l),s.length&&(c.closest(".tmcp-ul-wrap").is(".tc-colors-container")?l+=s.closest(".tc-label-wrap").clone().addClass("tc-img-floating")[0].outerHTML:l+=s.clone().addClass("tc-img-floating")[0].outerHTML),c.closest(".tmcp-ul-wrap").is(".tc-images-container")&&(l=t.find(".tc-label").first().html(),u=l,s.length&&(l=l+'<img class="tc-img-floating" src="'+c.attr("data-image")+'">')),g=!0):c.data("isset",0):c.is(".tmcp-select")?(n=c.find("option:selected"),e=n.data("raw_price"),a=n.data("price"),i=n.data("raw_original_price"),o=n.data("original_price"),""===(r=c.children("option:selected")).val()&&""===r.attr("data-rulestype")||(w=!0),c.find("option").data("isset",0),n.data("isset",1),""===n.val()&&""===n.attr("data-rulestype")||(l=n.attr("data-text"),g=!0,u=l)):c.is(".tmcp-selectmultiple")?(n=c.find("option:selected")).toArray().forEach(function(t){t=Ft(t),e+=Ft.epoAPI.math.toFloat(t.data("raw_price")),a+=Ft.epoAPI.math.toFloat(t.data("price")),i+=Ft.epoAPI.math.toFloat(t.data("raw_original_price")),o+=Ft.epoAPI.math.toFloat(t.data("original_price")),""===(r=c.children("option:selected")).val()&&""===r.attr("data-rulestype")||(w=!0),c.find("option").data("isset",0),t.data("isset",1),""===t.val()&&""===t.attr("data-rulestype")||(l=t.attr("data-text"),g=!0,u=l)}):(n=c.val(),!(n=c.is("[type='file']")?n.replace("C:\\fakepath\\",""):n)||c.is(".tmcp-range")&&"0"===n?c.data("isset",0):(e=c.data("raw_price"),a=c.data("price"),i=c.data("raw_original_price"),o=c.data("original_price"),w=!0,c.data("isset",1),l=n,c.is(".tmcp-range")&&(n=1===(n=c.closest(".tmcp-field-wrap").find(".tm-range-picker").attr("data-step").split(".")).length?0:n[1].length,l=Et(l,{precision:n})),g=!0,u=l)),e=e||0,i=i||0,a=a||0,o=o||0,g&&b.push({title:_,value:l,valueText:u,price:a,original_price:o,quantity:f,label_show:p,value_show:m,input_type:c.attr("type")}),k&&(e=At(e,h.this_epo_totals_container,c,0,void 0,void 0,!0),i=At(i,h.this_epo_totals_container,c,0,void 0,void 0,!0)),v=Ft.epoAPI.math.toFloat(v)+Ft.epoAPI.math.toFloat(e),v=Ft.epoAPI.math.toFloat(Ft.epoAPI.math.round(v,10)),y=Ft.epoAPI.math.toFloat(y)+Ft.epoAPI.math.toFloat(i),y=Ft.epoAPI.math.toFloat(Ft.epoAPI.math.round(y,10)))}),{total:v,original_total:y,floatingBoxData:b,showTotal:w,elementsLength:t.length}}function Rt(t,e,a,i,o,r,n,c){var l,d=Ft.extend(!0,{},t),s=a.find(Ct.associatedEpoSelector),p=a,t=!0;n.addClass("tm-hidden"),"variable"===i?a.is(".tc-init-variations")?a.trigger("refresh.tc-variation-form"):(a.addClass("variations_form"),setTimeout(function(){l=Qt(p,!1,s.attr("data-product-id"),s.attr("data-epo-id"),o,d),a.addClass("tc-init-variations"),a.tc_product_variation_form(o,r,n,l)},40),t=!1):a.is(".tc-init-product")||(a.addClass("tc-init-product"),n.find(".tc-epo-element-variable-product").removeClass("variations_form"),n.find(".tc-epo-element-variations").removeClass("variations"),setTimeout(function(){Qt(p,!1,s.attr("data-product-id"),s.attr("data-epo-id"),o,d)},20),t=!1),a.removeClass("tm-hidden"),t&&(Pt.trigger("cpflogicdone"),a.find(".tm-quantity").trigger("showhide.cpfcustom")),void 0===c&&"yes"===It.tm_epo_global_product_element_scroll&&Pt.tcScrollTo(a,200,Ft.epoAPI.math.toFloat(It.tm_epo_global_product_element_scroll_offset))}function wt(pt,mt,_t){var ft,s,ut,gt,t,ht,y,vt,e,a,i,o,r,n,c,l,d,p,m=pt.product_id,yt=pt.main_product,bt=pt.main_cart,_=pt.this_epo_container,f=pt.this_totals_container,wt=pt.this_epo_totals_container,xt=pt.epoEventId,kt=pt.main_epo_inside_form,u=pt.epo_id_selector,g=pt.epo_id,h=pt.product_id_selector,v="main",b=pt.is_associated?"tc-variation-form":"wc-variation-form",w=pt.is_associated?"tc_":"",x=_t&&mt?(v=Ft.epoAPI.applyFilter("tc_get_item_id",mt.attr("data-item_id"),mt),ft=yt.find(".tm-extra-product-options.tm-cart-"+v),s=yt.find(".tm-totals-form-"+v),ut=yt.find(".tm-epo-totals.tm-cart-"+v),mt.find(".variations_form").first()):(bt&&0!==bt.length||(bt=_.is(".tc-shortcode")?yt:J(yt,yt,"form",m)),mt=bt.parent(),ft=_,s=f,ut=wt,pt.variations_form);pt.is_associated&&(v=ft.attr("data-cart-id")),gt=_t||bt,ut.data("tm_for_cart",gt),t=qt(gt),y=Tt(gt),ut.data("variationIdElement",(d=".wceb_picker_wrap "+t,p=qt(l=gt),p=l.find(p),p=d?p.not(d):p)),ut.data("qty_element",y),ht=ut.data("type"),x.data("tc_product_id",m),vt=ut.attr("data-tm-epo-final-total-box"),Pt.on("epoCalculateRules",function(t,e){t&&e&&e.currentCart&&Mt(pt,e.currentCart)}),Mt(pt,gt),a=ft.find(".tm-epo-field"),pt.is_associated||(a=a.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-field")),i=ft.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield"),pt.is_associated||(i=i.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-field")),o=ft.find(".tm-epo-reset-radio"),pt.is_associated||(o=o.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-reset-radio")),r=ft.find(".tm-epo-field.tmcp-upload"),pt.is_associated||(r=r.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-field.tmcp-upload")),n=ft.find(".tm-has-clearbutton .tm-epo-field"),pt.is_associated||(n=n.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-has-clearbutton .tm-epo-field")),c=ft.find(".tm-quantity .tm-qty"),pt.is_associated||(c=c.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-quantity .tm-qty")),l=ft.find(".tm-quantity"),pt.is_associated||(l=l.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-quantity")),d=ft.find("select.tm-epo-field"),(d=!pt.is_associated?d.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" select.tm-epo-field"):d).off("tm-select-change-html").on("tm-select-change-html",function(){var t,e,a,i,o=Ft(this);o.is(".tc-epo-field-product")||o.is(".tmcp-selectmultiple")||bt&&void 0!==bt.data("per_product_pricing")&&!bt.data("per_product_pricing")||(t=St(o.find("option:selected").data("price"),ut,!0,!1,o),e=St(o.find("option:selected").data("original_price"),ut,!0,!1,o),a=o.closest(".tmcp-field-wrap").find(".tc-tooltip"),i=o.closest(".tmcp-field-wrap").find(".tc-inline-description"),H(o.closest(".tmcp-field-wrap").find(".tc-price"),o.find("option:selected").data("price"),t,o.find("option:selected").data("original_price"),e),0<a.length&&a.attr("data-tm-tooltip-html",o.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),0<i.length&&(o.find("option:selected").attr("data-tm-tooltip-html")?i.html(o.find("option:selected").attr("data-tm-tooltip-html")):i.html("")),"0"!==o.find("option:selected").attr("data-hide-amount")&&"yes"!==It.tm_epo_show_price_inside_option_hidden_even||"yes"!==It.tm_epo_show_price_inside_option||!o.find("option:selected").attr("data-text")||("yes"===It.tm_epo_auto_hide_price_if_zero&&!1===Ft.tmempty(o.find("option:selected").data("price"))||"yes"!==It.tm_epo_auto_hide_price_if_zero&&""!==o.find("option:selected").attr("data-price"))&&o.find("option:selected").html(o.find("option:selected").attr("data-text")+" ("+t+")"),""!==o.val()&&o.find("option:selected").attr("data-tm-tooltip-html")?a.removeClass("tm-hidden"):a.addClass("tm-hidden"))}).off("tm-math-select-change-html-all tm-select-change-html-all tm-select-change-html-all-math").on("tm-math-select-change-html-all tm-select-change-html-all tm-select-change-html-all-math",function(t){var e,a,i,o,r=Ft(this);r.is(".tc-epo-field-product")||bt&&void 0!==bt.data("per_product_pricing")&&!bt.data("per_product_pricing")||(e=r.closest(".tmcp-field-wrap").find(".tc-tooltip"),a=r.closest(".tmcp-field-wrap").find(".tc-inline-description"),0<e.length&&e.attr("data-tm-tooltip-html",r.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),0<a.length&&(r.find("option:selected").attr("data-tm-tooltip-html")?a.html(r.find("option:selected").attr("data-tm-tooltip-html")):a.html("")),"yes"===It.tm_epo_show_price_inside_option&&r.find("option").each(function(){return!(i=Ft(this)).val()||("tm-select-change-html-all"===t.type?(i.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),Lt(pt,r,void 0,i,1)):"tm-math-select-change-html-all"===t.type?Lt(pt,r,void 0,i,1,!0):"tm-select-change-html-all-math"===t.type&&(i.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),Lt(pt,r,void 0,i,1,!0)),o=1,o=(o="yes"!==It.tm_epo_multiply_price_inside_option?r.data("tm-quantity"):o)||1,o=St(i.data("price")/o,ut,!0,!1,r),void("0"!==i.attr("data-hide-amount")&&"yes"!==It.tm_epo_show_price_inside_option_hidden_even||!i.attr("data-text")||("yes"===It.tm_epo_auto_hide_price_if_zero&&!1===Ft.tmempty(i.data("price"))||"yes"!==It.tm_epo_auto_hide_price_if_zero&&""!==i.attr("data-price"))&&i.html(i.attr("data-text")+" ("+o+")")))}),""!==r.val()&&r.find("option:selected").attr("data-tm-tooltip-html")?e.removeClass("tm-hidden"):e.addClass("tm-hidden"))}).off("tm-select-change").on("tm-select-change",function(){var t=Ft(this);t.is(".tc-epo-field-product")||bt&&void 0!==bt.data("per_product_pricing")&&!bt.data("per_product_pricing")||(t.trigger("tm-select-change-html"),t.trigger("tm-select-change-html-all"),gt.trigger({type:"tm-epo-update",norules:1,element:t}))}).trigger("tm-select-change-html-all"),c.off("focus.cpf").on("focus.cpf",function(){var t=Ft(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),a=parseFloat(t.val()),i=parseFloat(t.attr("max")),o=parseFloat(t.attr("min")),r=t.attr("step"),n=R(e,!1),c=Q(e,!1),e=!0;a&&""!==a&&"NaN"!==a||(a=0),""!==i&&"NaN"!==i||(i=""),""!==o&&"NaN"!==o||(o=0),"any"!==r&&""!==r&&void 0!==r&&"NaN"!==parseFloat(r)||(r=1),(a<o||i<a)&&(e=!1),n&&c&&e?t.data("tm-prev-value",a):t.data("tm-prev-value",o)}).off("change.cpf").on("change.cpf",function(t,e){var a=Ft(this),i=a.closest(".tmcp-field-wrap").find(".tm-epo-field"),o=parseFloat(a.val()),r=parseFloat(a.attr("max")),n=parseFloat(a.attr("min")),c=a.attr("step"),l=R(i,!1),d=Q(i,!1),s=!0;o&&""!==o&&"NaN"!==o||(o=0),""!==r&&"NaN"!==r||(r=""),""!==n&&"NaN"!==n||(n=0),"any"!==c&&""!==c&&void 0!==c&&"NaN"!==parseFloat(c)||(c=1),(o<n||r<o)&&(s=!1),l&&d&&s?(pt.noEpoUpdate?i.data("tm-quantity",a.val()).trigger("change.cpf",e).trigger("change.cpfproduct",e):i.data("tm-quantity",a.val()).trigger("change",e),i.trigger("tm-select-change-html-all")):a.data("tm-prev-value")?a.val(a.data("tm-prev-value")):a.val(n),a.trigger("cpf-changed")}).off("tmaddquantity").on("tmaddquantity",function(){var t=Ft(this);t.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",t.val())}),p=ft.find(".tmcp-textfield.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]"),(p=!pt.is_associated?p.not(Ct.epoSelector+" "+Ct.associatedEpoSelector+" .tm-epo-field"):p).each(function(){var t=Ft(this),e=Ft.epoAPI.template.html(Ct.templateEngine.tc_chars_remanining,{maxlength:t.attr("maxlength"),characters_remaining:It.i18n_characters_remaining});t.after(Ft(e))}),p.off("change.tc_maxlen input.tc_maxlen").on("change.tc_maxlen input.tc_maxlen",function(){var t=Ft(this);t.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(t.attr("maxlength"),10)-parseInt(t.val().length,10))}),a.off("tm_trigger_product_image").on("tm_trigger_product_image",function(){var t,e,a,i,o=Ft(this);o.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")?(e=o.closest(".tmcp-field-wrap").find("label img"),a=o.closest(".cpf-section").is(".tm-epo-variation-section"),(t=o).is("select.tm-product-image")&&(t=o.children("option:selected")),(0<Ft(e).length||a&&void 0!==t.attr("data-image")||void 0!==t.attr("data-image")&&""!==t.attr("data-image")||void 0!==t.attr("data-imagep")&&""!==t.attr("data-imagep"))&&(o.is(":checked")||o.is("select.tm-product-image")&&""!==o.val()&&(""!==o.find("option:selected").attr("data-rules")||o.is(".tm-epo-variation-element")))?(i=(i=!(i=Ft(e).first().attr("data-original"))&&!a?Ft(e).first().attr("src"):i)||t.attr("data-image"),(i=t.attr("data-imagep")?t.attr("data-imagep"):i)?yt.trigger("tm_change_product_image",{src:i,element:o,element_current:t,main_product:yt,epo_holder:ft}):yt.trigger("tm_change_product_image",{src:!1,element:o,element_current:t,main_product:yt,epo_holder:ft})):yt.trigger("tm_restore_product_image",{element:o,element_current:t,main_product:yt,epo_holder:ft})):yt.trigger("tm_attempt_product_image",{element:o,element_current:t,main_product:yt,epo_holder:ft})}),l.off("showhide.cpfcustom").on("showhide.cpfcustom",function(){var t,e,a=Ft(this),i=a.closest(".tmcp-field-wrap").find(".tm-epo-field"),o=!1;i.is(".tm-epo-variation-element")||(i.is("select")?""!==i.val()&&(o=!0):i.is(":checkbox")?i.is(":checked")&&(o=!0):i.is(":radio")?i.is(":checked")&&(o=!0,"yes"===It.tm_epo_show_only_active_quantities&&i.closest(".tc-element-inner-wrap").find(".tm-epo-field.tmcp-radio").each(function(){Ft(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):i.val()&&(o=!0),e=(t=a.find(".tm-qty")).val(),i=t.attr("min")||"",o?("yes"===It.tm_epo_show_only_active_quantities&&a.show(),t.removeClass("ignore").prop("disabled",!1)):("yes"===It.tm_epo_show_only_active_quantities&&(a.hide(),e||t.val(i)),t.addClass("ignore").prop("disabled",!0)),setTimeout(function(){a.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200))}),a.off("change.cpfcustom").on("change.cpfcustom",function(){Ft(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),a.off("change.cpf").on("change.cpf",function(t,e){var a,i=Ft(this),o=i.closest(".tmcp-field-wrap"),r=i.closest(".tmcp-ul-wrap");i.is(":checkbox, :radio")&&(i.is(":radio")&&(e||r.find(".tmcp-field-wrap").removeClass("tc-active")),i.is(":checked")?o.addClass("tc-active"):o.removeClass("tc-active")),i.is(".tm-epo-variation-element")||(i.is(".use_images:checkbox, .use_images:radio")&&i.attr("data-imagec")&&0<(a=o.find(".radio-image,.checkbox-image").first()).length&&(i.is(":checked")?a.prop("src",i.attr("data-imagec")):a.prop("src",i.attr("data-image"))),i.is(".use_images:radio")&&i.closest(".cpf-type-radio").find(".use_images:radio").not(i).each(function(){var t=Ft(this);t.closest(".tmcp-field-wrap").find(".radio-image").first().prop("src",t.attr("data-image"))}),i.is(".tmcp-range")&&i.trigger("change.cpflogic"),i.is("select")?i.trigger("tm-select-change"):(i.is(".tmcp-radio")&&i.closest(".cpf-element").find(".tm-quantity .tm-qty").each(function(){Ft(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?Ft(this).prop("disabled",!1):Ft(this).attr("disabled","disabled")}),gt.trigger({type:"tm-epo-update",norules:1,element:i}))),i.trigger("tm_trigger_product_image"),setTimeout(function(){Ft(".tm-owl-slider").each(function(){Ft(this).trigger("refresh.owl.carousel")})},200),yt.trigger("tm_attempt_product_image",{element:i,main_product:yt,epo_holder:ft})}),a.filter(":checkbox:checked, :radio:checked").each(function(){Ft(this).closest(".tmcp-field-wrap").addClass("tc-active"),Ft(this).trigger("change.cpf")}),n.off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(){var t,e=Ft(this),a=e.closest(".tmcp-field-wrap");e.is(":checked")&&((t=!(t=(t=(t=e.closest(".tc-element-inner-wrap")).find(".tc-epo-element-product-li-container").length?t.find(".tmcp-ul-wrap").first().children(".tmcp-field-wrap").not(".tc-epo-element-product-li-container"):t).find(".tm-epo-reset-radio")).length?e.closest(".tc-element-inner-wrap").find(".tm-epo-reset-radio").first():t).removeClass("tm-hidden"),a.append(t))}),o.off("click.cpf").on("click.cpf",function(){var t=Ft(this),e=t.closest(".tc-element-inner-wrap").find(".tm-epo-field.tmcp-radio:checked");e.length&&(e.prop("checked",!1),e.trigger("change",{forced:1})),t.addClass("tm-hidden")}),E&&E.debounce&&i.on("keyup",E.debounce(function(){var t=Ft(this);t.closest(".tmcp-ul-wrap").data("tm-validation")&&gt.tc_validate().element(t),t.trigger("change.cpf"),t.closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")},10)),r.off("change.cpfv change.tcupload").on("change.cpfv change.tcupload",function(){var t=Ft(this),e=t.closest("label"),a=t.closest(".tmcp-field-wrap"),i=a.find(".cpf-upload-container"),o=a.find(".tm-filename"),r=t.val().replace("C:\\fakepath\\",""),n=t.attr("data-file"),c=k.URL||k.webkitURL,l=this.files[0],d=a.find(".tc-upload-preview");i.length&&o.length<=0&&(o=Ft('<span class="tm-filename"></span>'),e.after(o)),o.html(r=void 0===r||"undefined"===r?"":r),o=(o=ft.data("num_uploads"))||[],""!==r&&(o[t.closest(".cpf-element").attr("data-uniqid")]=r),ft.data("num_uploads",o),t.next(".tmcp-upload-hidden").remove(),(r||n)&&"yes"===It.tm_epo_upload_inline_image_preview&&c&&c.createObjectURL&&l&&(d.length||(d=Ft('<div class="tc-upload-preview"></div>'),a.find("label.tm-epo-field-label").append(d)),d.empty(),(a=new Image).onload=function(){var t=this.src;d.html('<img src="'+t+'">')},n?a.src=n:(a.src=c.createObjectURL(l),c.revokeObjectURL(l)))}),y.off("change.cpf input.cpf").on("change.cpf input.cpf",function(){var t=Ft(this);gt.trigger("tm-epo-check-dpd"),t.data("tm-prev-value",t.val()),gt.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",y.val()),ft.find(".cpf-type-product .tc-epo-field-product").off("change.cpfproduct").on("change.cpfproduct",function(t,e){var a,i,o,r,n,c,l=Ft(this),d=l.closest(".cpf-element").find(".tc-epo-element-product-container-wrap"),s=l.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap"),p=0<s.length,m=!1,_=1e3,f=l,u=l.closest(".cpf-element"),g=l.closest(".cpf-element").find(".tm-epo-field").not(".tc-epo-element-product-li-container .tm-epo-field"),h=g.filter(":checked"),v=l.attr("data-counter");if((!e||2!==e.forced)&&(void 0===t.isTrigger||!l.data("triggeredonce")||e&&e.forced)){if(l.data("triggeredonce",1),l.is(":checkbox")||(_=t.isTrigger),g.is(":radio")||g.is(":checkbox")?0<h.length&&(c=h.closest(".tmcp-field-wrap").find("input.tm-qty")):c=g.closest(".tmcp-field-wrap").find("input.tm-qty"),g=d.find(Ct.associateQtySelector),""!==d.html()&&c&&0<c.length&&0===g.length&&c.val(0),l.is(":checkbox"))if(l.is(".tc-epo-field-product-hidden"))l.is(":checked")?(d.addClass("tc-active-product"),"0"===g.val()&&("0"===g.attr("min")?g.val(1):g.val(g.attr("min"))).trigger("change")):(d.removeClass("tc-active-product"),g.val(0),g.closest(".tm-quantity-alt").removeClass("tm-hidden"),g.closest(".tm-quantity-alt").find(".single_add_to_cart_product").trigger("cpfqtybutton"),d.find(Ct.associatedEpoCart).trigger("tm-epo-update")),a=l.val(),i=l.attr("data-type"),u.find(".tc-epo-element-product-li-container").removeClass("tm-hidden");else{if(l.is(":checked"))p&&s.removeClass("tm-hidden");else{if(p&&s.addClass("tm-hidden"),!e||!e.forced)return;m=!0}m||(a=l.val(),i=l.attr("data-type"),u.find(".tc-epo-element-product-li-container").removeClass("tm-hidden"))}else if(l.is(":radio")){if(l.is(":checked"))p&&(d.addClass("tm-hidden"),s.removeClass("tm-hidden"));else{if(p&&s.addClass("tm-hidden"),!e||!e.forced)return;m=!0}m||(a=l.val(),i=l.attr("data-type"),u.find(".tc-epo-element-product-li-container").removeClass("tm-hidden")),l.val()&&!l.data("set_initial")&&"0"===g.val()&&(("0"===g.attr("min")?g.val(1):g.val(g.attr("min"))).trigger("change"),l.data("set_initial",1))}else{if(!l.is("select"))return;l.val()&&!l.data("set_initial")&&"0"===g.val()&&(("0"===g.attr("min")?g.val(1):g.val(g.attr("min"))).trigger("change"),l.data("set_initial",1)),v=(f=n=l.children(":selected")).index(),a=l.val(),i=n.attr("data-type"),u.find(".tc-epo-element-product-li-container").removeClass("tm-hidden")}if(o=(l.is(".tc-epo-field-product-checkbox")?s:u).find(".tc-epo-element-product-container"),r=o.filter('[data-product_id="'+a+'"]'),!a)return o.addClass("tm-hidden"),n=Ft.epoAPI.util.parseJSON(l.attr("data-rules")),s=Ft.epoAPI.util.parseJSON(l.attr("data-original-rules")),f.data("associated_price_set",1),f.data("price_set",1),f.data("raw_price",n[0]),f.data("raw_original_price",s[0]),f.data("price",n[0]),f.data("original_price",s[0]),zt(f.closest(".tmcp-field-wrap").find(".tc-price").not(Ct.associatedEpoSelector+" .tc-price"),n[0],Ot(n[0]),s[0],Ot(s[0])),void y.trigger("change.cpf");0===r.length?(v={action:"wc_epo_get_associated_product_html",product_id:a,mode:u.attr("data-mode"),layout_mode:u.attr("data-product-layout-mode"),uniqid:u.attr("data-uniqid"),name:l.attr("name"),counter:v,quantity_min:u.attr("data-quantity-min"),quantity_max:u.attr("data-quantity-max"),priced_individually:u.attr("data-priced-individually"),discount:u.attr("data-discount"),discount_type:u.attr("data-discount-type"),show_image:u.attr("data-show-image"),show_title:u.attr("data-show-title"),show_price:u.attr("data-show-price"),show_description:u.attr("data-show-description"),show_meta:u.attr("data-show-meta")},u.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),Ft.ajax({url:It.ajax_url,type:"POST",data:v,dataType:"json",success:function(t){200===t.result&&(r=Ft(t.html),(p?l.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap").empty():u.find(".tc-epo-element-product-container-wrap")).append(r),Rt(pt,0,r,i,l,gt,o,_),r.find(Ct.associateQtySelector).trigger("change"))},complete:function(){u.unblock()}})):(Rt(pt,0,r,i,l,gt,o,_),r.find(Ct.associateQtySelector).trigger("change"))}}),Ft(F).off("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product").on("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product",function(){var t=Ft(this),e=t.closest(".tm-quantity-alt").find(Ct.associateQtySelector),a=t.is(".alt"),i=t.closest(".cpf-element").find(".tc-epo-element-product-container-wrap");t.data("inittriggeredonce")&&(a?(i.addClass("tc-active-product"),"0"===e.val()&&("0"===e.attr("min")?e.val(1):e.val(e.attr("min"))).trigger("change"),t.removeClass("alt").text(t.attr("data-remove"))):(i.removeClass("tc-active-product"),e.val(0).trigger("change"),e.closest(".tm-quantity-alt").removeClass("tm-hidden"),t.addClass("alt").text(t.attr("data-add")))),t.data("inittriggeredonce",1),i.find(Ct.associatedEpoCart).trigger("tm-epo-update")}),Ft(F).off("change.cpfqtyalt",".cpf-type-product "+Ct.associateQtySelector).on("change.cpfqtyalt",".cpf-type-product "+Ct.associateQtySelector,function(){var t,e=Ft(this),a=e.closest(".cpf-element").find(".tm-epo-field").not(".tc-epo-element-product-li-container .tm-epo-field"),i=e.closest(".tm-quantity-alt").find(".single_add_to_cart_product"),o=a.filter(":checked"),r=Ft.epoAPI.math.toInt(e.attr("min")),n=Ft.epoAPI.math.toInt(e.attr("max"));if(a.is(".tc-epo-field-product-hidden")&&a.is(":checkbox")&&(0===o.length&&"0"!==e.val()?(a.prop("checked",!0).trigger("change"),o=a.filter(":checked")):"0"===e.val()&&o.length&&a.prop("checked",!1).trigger("change")),a.is(":radio")||a.is(":checkbox")){if(0===o.length)return;t=o.closest(".tmcp-field-wrap").find("input.tm-qty")}else t=a.closest(".tmcp-field-wrap").find("input.tm-qty");0!==t.length&&(r&&t.attr("min",r),n&&t.attr("max",n),e.closest(".tc-epo-element-product-container").find(Ct.associatedEpoCart).trigger("tm-epo-update"),t.val(e.val()),a.trigger("change.cpfproduct",{forced:2}),i.data("inittriggeredonce")&&("0"===e.val()?i.removeClass("alt"):i.addClass("alt")),i.trigger("cpfqtybutton"))}),gt.off("tm-epo-update").on("tm-epo-update",function(t){var e,a,i,o,r,n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I,P,A,E,S,q,T,O,j,z,D,N,B,H,L,M=Ft(this),U=!1,J=0,R=0,Q=0,$=!1,Z=!0,W=[],X={},G=0,V=!1,Y=!1,K="",tt=!1,et=!1,at="",it="",ot=0,rt=0,nt=t.epoObject?Ft.extend(!0,{},t.epoObject):Ft.extend(!0,{},pt);if(nt&&!nt.noEpoUpdate){var ct=Ft.epoAPI.applyFilter("tc_get_bundleid",M.attr("data-product_id"),M,nt),lt=ut.attr("data-price-override"),dt=parseFloat(Tt(M).val()),st=M.find(qt(M)).val()||0;if(nt.associated_connect&&1===nt.associated_connect.length&&(dt=parseFloat(nt.main_product.find(Ct.associateQtySelector).not(Ct.associatedEpoSelector+" "+Ct.qtySelector).last().val())),t.stopImmediatePropagation(),J=U=Ft.epoAPI.applyFilter("tcGetCurrentProductPrice",Ht(ut,!0),gt,ut),a=e=Ft.epoAPI.applyFilter("tcGetCurrentProductRegularPrice",Bt(ut,!0),gt,ut),U=Ft.epoAPI.applyFilter("tcCalculateCurrentProductPrice",U,{epo:nt,alternativeCart:_t,cart:M,main_product:yt}),Number.isFinite(dt)||!ut.attr("data-is-sold-individually")&&0!==Tt(M).length||(dt=1),ut.data("totalsHolder_tc_totals_ob",{qty:dt,product_price:J,original_product_price:a}),t.norules?t.norules&&(1===t.norules&&Lt(nt,t.element),Ft.tcepo.lateFieldsPrices[xt]=[],ft.find(".tm-epo-late-field").toArray().forEach(function(t){var e,a,i,o,r,n;(t=Ft(t)).data("price",0),Ft.tcepo.lateFieldsPrices[xt].push({setter:t,price:t.data("tm-price-for-late"),original_price:t.data("tm-original-price-for-late"),bundleid:ct,pricetype:(e=nt,o=Ft(a=t),r=o,n=e.main_cart,t="input[name^='variation_id']",0<n.find("input.variation_id").length&&(t="input.variation_id"),a=(a=n.find(t).val())||0,o.is("select")&&(r=o.find("option:selected")),e=Ft.epoAPI.util.parseJSON(r.attr("data-rules")),n=Ft.epoAPI.util.parseJSON(r.attr("data-rulestype")),t="","object"==typeof e?"object"==typeof n?t=a in n?n[a]:"object"==typeof(i=Ft.epoAPI.util.parseJSON(o.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&a in i?i[a]:n[0]:"object"==typeof(n=Ft.epoAPI.util.parseJSON(o.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(t=a in n?n[a]:n[0]):(r=o.closest(".tmcp-ul-wrap"),"object"==typeof(e=Ft.epoAPI.util.parseJSON(r.attr("data-rules")))&&("object"==typeof n?t=a in n?n[a]:"object"==typeof(i=Ft.epoAPI.util.parseJSON(r.attr("data-rulestype")))&&a in i?i[a]:n[0]:"object"==typeof(n=Ft.epoAPI.util.parseJSON(r.attr("data-rulestype")))&&(t=a in n?n[a]:n[0]))),"object"==typeof t&&(t=t[0]),t=o.is(".tmcp-fee-field")&&-1!==Ft.inArray(t,["fee","stepfee","currentstepfee"])?"":t)})})):Mt(nt,M),nt.associated_connect&&1===nt.associated_connect.length&&(S=nt.associated_connect,nt.associated_connect.is("select")&&(S=nt.associated_connect.find("option:selected"))),!1===U)return ut.empty(),void(nt.associated_connect&&1===nt.associated_connect.length&&zt(S.closest(".tmcp-field-wrap").find(".tc-price").not(Ct.associatedEpoSelector+" .tc-price"),0,"",0,""));u=Ft.epoAPI.applyFilter("tcAlterElementQty",1,{epo:nt,alternativeCart:_t,currentCart:gt,main_product:yt}),void 0!==gt.data("per_product_pricing")&&(Z=gt.data("per_product_pricing")),Z=Ft.epoAPI.applyFilter("tcCalculatePerProductPricing",Z,{epo:nt,alternativeCart:_t,cart:M,main_product:yt}),kt&&"woocommerce_before_add_to_cart_button"===It.tm_epo_totals_box_placement&&("variable"!==ht&&"variable-subscription"!==ht||ut.data("moved_inside")||ut.data("moved_inside",1)),Pt.trigger("tcEpoBeforeOptionPriceCalculation",{epo:nt,alternativeCart:nt,this_product_type:ht,cart:M,totalsHolder:ut}),nt.associated_connect||t.noassociated||"yes"!==It.tm_epo_global_product_element_quantity_sync||M.is(Ft.tcAPI().associatedEpoCart)||M.find(Ft.tcAPI().associatedEpoCart).toArray().forEach(function(t){Ft(t).trigger({type:"tm-epo-update",noassociated:1})}),"no"===It.tm_epo_global_product_element_quantity_sync?(R=(E=Jt(nt,ft,".tmcp-field:not(.tc-epo-field-product)",R,Q,W,$)).total,Q=E.original_total,W=E.floatingBoxData,$=E.showTotal,B=E.elementsLength,ot=(E=Jt(nt,ft,".tc-epo-field-product",ot,0,W,$)).total,rt=E.original_total,W=E.floatingBoxData,$=$&&E.showTotal,B+=E.elementsLength):(R=(E=Jt(nt,ft,".tmcp-field",R,Q,W,$)).total,Q=E.original_total,W=E.floatingBoxData,$=E.showTotal,B=E.elementsLength),ut.data("tm-floating-box-data",W),i=(E=Jt(nt,ft,".tmcp-fee-field",0,0,W,$,!1,!0)).total,o=E.original_total,W=E.floatingBoxData,$=E.showTotal,B+=E.elementsLength,Pt.trigger("tcEpoAfterOptionPriceCalculation",{epo:nt,alternativeCart:nt,this_product_type:ht,cart:M,totalsHolder:ut}),Ft.tcepo.oneOptionIsSelected[xt]=$,Nt(yt,B,Ft.tcepo.oneOptionIsSelected[xt]),$=Ft.epoAPI.applyFilter("tcFinalTotalsBoxVisibility",$,{epo:nt,alternativeCart:_t,cart:M,main_product:yt,totalsHolder:ut,this_epo_totals_container:wt}),0<i&&($=!0),_t&&!Z&&($=!1),"pxq"!==vt&&"hide"!==vt&&"normal"!==vt&&"options"!==vt&&"final"!==vt&&"hideoptionsifzero"!==vt&&"hideiftotaliszero"!==vt&&"optionsiftotalnotzero"!==vt||($=!0),1<dt&&($=!0),"variable"!==ht&&"variable-subscription"!==ht||Ft.epoAPI.math.toFloat(st)||($=!1),r=R,n=Q,c=Ut(nt,parseFloat(U),parseFloat(r+ot),parseFloat(n+rt),ct,ut),"disable"===vt&&($=!1),"disable_change"!==vt&&"yes"!==It.tm_epo_change_variation_price&&"yes"!==It.tm_epo_change_original_price||($=!0),nt.is_associated&&!Z&&($=!1),"yes"===It.tm_epo_total_price_as_unit_price&&(dt=1),p=parseFloat(U*dt),It.extraFee&&(G=parseFloat(It.extraFee),Number.isFinite(G)||(G=0)),!1!==(f=Ft.epoAPI.applyFilter("tcCalculateFinalProductPrice",!1,{alternativeCart:_t,product_price:U,product_total_price:p,v_product_price:J,tm_set_tax_price:At,main_product:yt,totalsHolder:ut,cartQty:dt}))&&"object"==typeof f&&Object.prototype.hasOwnProperty.call(f,"productPrice")&&Object.prototype.hasOwnProperty.call(f,"productTotalPrice")&&(U=f.productPrice,p=f.productTotalPrice),r+=c[0],r=Ft.epoAPI.applyFilter("tc_adjust_options_price_per_unit",r,p),R=parseFloat(r*dt*u),R=Ft.epoAPI.applyFilter("tc_adjust_options_total_price",R+=ot,dt,u,r,ot,ut),n+=c[1],n=Ft.epoAPI.applyFilter("tc_adjust_options_price_per_unit",n,p),Q=parseFloat(n*dt*u),Q=Ft.epoAPI.applyFilter("tc_adjust_options_original_total_price",Q+=rt,dt,u,n,rt,ut),"1"===lt&&0<parseFloat(R)&&(p=J=U=0),p=Ft.epoAPI.applyFilter("tc_adjust_product_total_price_without_options",p),R=Ft.epoAPI.applyFilter("tcAdjustTotal",R,{epo:nt,totalsHolder:ut,cart:M,main_product:yt}),Q=Ft.epoAPI.applyFilter("tcAdjustOriginalTotal",Q,{epo:nt,totalsHolder:ut,cart:M,main_product:yt}),v=R=parseFloat(Ft.epoAPI.applyFilter("tc_adjust_total",R,ut)),y=r,x=i=parseFloat(Ft.epoAPI.applyFilter("tc_adjust_totals_fee",i,ut)),F=m=R+i,b=Q=parseFloat(Ft.epoAPI.applyFilter("tc_adjust_total",Q,ut)),w=n,k=o=parseFloat(Ft.epoAPI.applyFilter("tc_adjust_totals_fee",o,ut)),C=_=Q+o,I=p,P=parseFloat(p+m+G),A=parseFloat(p+_+G),U=At(U,ut,void 0,0,void 0,void 0,!0),p=At(p,ut,void 0,0,void 0,void 0,!0),R=At(R,ut,void 0,0,void 0,void 0,!0),r=At(r,ut,void 0,0,void 0,void 0,!0),m=parseFloat(i)+parseFloat(At(v,ut,void 0,0,void 0,void 0,!0)),Q=At(Q,ut,void 0,0,void 0,void 0,!0),n=At(n,ut,void 0,0,void 0,void 0,!0),o=At(o,ut,void 0,0,void 0,void 0,!0),_=parseFloat(o)+parseFloat(At(Q,ut,void 0,0,void 0,void 0,!0)),G=At(G,ut,void 0,0,void 0,void 0,!0),H=Ot(R,ut,!0,!0),d=Ot(i,ut,!0,!0),l=Ot(Q,ut,!0,!0),s=Ot(o,ut,!0,!0),W=p,p=Ft.epoAPI.applyFilter("tc_adjust_product_total_price",parseFloat(p+m+G),W,m,G,R,i,ut),E=Ft.epoAPI.applyFilter("tc_adjust_product_total_original_price",parseFloat(p+_+G),W,_,G,Q,o,ut),B=Ot(p,ut,!0,!0),st=Ot(E,ut,!0,!0),f=parseFloat(U+parseFloat(r)),ot=parseFloat(U+parseFloat(n)),"yes"===It.tm_epo_fees_on_unit_price&&(f=parseFloat(U+parseFloat(r)+parseFloat(parseFloat(i)/dt)),ot=parseFloat(U+parseFloat(n)+parseFloat(parseFloat(o)/dt))),u=Ot(parseFloat(U+parseFloat(r)+parseFloat(parseFloat(i)/dt)),ut,!0,!0),rt=Ot(parseFloat(U+parseFloat(n)+parseFloat(parseFloat(o)/dt)),ut,!0,!0),"pxq"===vt||"final"===vt||"hide"===vt||0===m&&"hideoptionsifzero"===vt||(0===R&&"hideoptionsifzero"===vt&&"options"!==vt||(V=!0),0!==i&&(Y=!0)),G&&(tt=!0,K=Ot(G,ut,!0,!0)),B&&"options"!==vt&&"optionsiftotalnotzero"!==vt&&(et=!0),u=Ft.epoAPI.applyFilter("tc_adjust_formatted_unit_price",u,U,r,i,dt),H=Ft.epoAPI.applyFilter("tc_adjust_formatted_options_total",H,R,r,dt),d=Ft.epoAPI.applyFilter("tc_adjust_formatted_fees_total",d,i),B=Ft.epoAPI.applyFilter("tc_adjust_formatted_final_total",B,p,W,m,G,dt),u=Ft.epoAPI.applyFilter("tcAdjustFormattedUnitPrice",u,{epo:nt,totalsHolder:ut,event:t,unit_price:f,productPrice:U,_total:r,total_plcart_fee_options_totals_fee:i,cartQty:dt}),rt=Ft.epoAPI.applyFilter("tcAdjustFormattedUnitOriginalPrice",rt,{epo:nt,totalsHolder:ut,event:t,unit_original_price:ot,productPrice:U,_original_total:n,total_plcart_fee_options_totals_fee:i,cartQty:dt}),H=Ft.epoAPI.applyFilter("tcAdjustFormattedOptionsTotal",H,{epo:nt,totalsHolder:ut,event:t,total:R,_total:r,total_plus_fee:m,extraFee:G,cartQty:dt}),l=Ft.epoAPI.applyFilter("tcAdjustFormattedOptionsOriginalTotal",l,{epo:nt,totalsHolder:ut,event:t,original_total:Q,_original_total:n,original_total_plus_fee:_,extraFee:G,cartQty:dt}),d=Ft.epoAPI.applyFilter("tcAdjustFormattedFeesTotal",d,{epo:nt,totalsHolder:ut,event:t,cart_fee_options_total:i,extraFee:G,cartQty:dt}),s=Ft.epoAPI.applyFilter("tcAdjustFormattedFeesOriginalTotal",s,{epo:nt,totalsHolder:ut,event:t,cart_fee_options_original_total:o,extraFee:G,cartQty:dt}),B=Ft.epoAPI.applyFilter("tcAdjustFormattedFinalTotal",B,{epo:nt,totalsHolder:ut,event:t,product_total_price:p,product_total_price_without_options:W,total_plus_fee:m,extraFee:G,cartQty:dt}),st=Ft.epoAPI.applyFilter("tcAdjustFormattedFinalOriginalTotal",st,{epo:nt,totalsHolder:ut,event:t,product_total_original_price:E,product_total_price_without_options:W,original_total_plus_fee:_,extraFee:G,cartQty:dt}),X={qty:dt,product_price:U,raw_product_price:J,product_regular_price:e,raw_product_regular_price:a,late_total_prices:c,late_total_price:At(c[0],ut),late_total_original_price:At(c[1],ut),raw_options_price_per_unit:y,raw_options_total_price:v,raw_cart_fee_options_total_price:x,raw_total_plus_fee:F,raw_options_original_price_per_unit:w,raw_options_original_total_price:b,raw_cart_fee_options_original_total_price:k,raw_original_total_plus_fee:C,raw_product_total_price:P,raw_product_total_original_price:A,raw_product_total_price_without_options:I,options_price_per_unit:r,options_total_price:R,cart_fee_options_total_price:i,total_plus_fee:m,options_original_price_per_unit:n,options_original_total_price:Q,cart_fee_options_total_original_price:o,original_total_plus_fee:_,product_total_price:p,product_total_original_price:E,product_total_price_without_options:W,product_unit_price:f,product_unit_original_price:ot,formatted_unit_price:u,formatted_options_total:H,formatted_fees_total:d,formatted_final_total:B,formatted_unit_original_price:rt,formatted_options_original_total:l,formatted_fees_original_total:s,formatted_final_original_total:st,formatted_extra_fee:K,show_options_total:V,show_fees_total:Y,show_extra_fee:tt,show_final_total:et,unit_price:It.i18n_unit_price,show_unit_price:"yes"===It.tm_epo_show_unit_price,options_total:It.i18n_options_total,fees_total:It.i18n_fees_total,extra_fee:It.i18n_extra_fee,final_total:It.i18n_final_total},H&&0<R&&(et=Et(R),H=Et(Q),et=Ft.epoAPI.applyFilter("tcFilterFormattedFTotal",et,{epo:nt,totalsHolder:ut,event:t,total:R,_total:r,total_plus_fee:m,extraFee:G,cartQty:dt}),H=Ft.epoAPI.applyFilter("tcFilterFormattedFOriginalTotal",H,{epo:nt,totalsHolder:ut,event:t,original_total:Q,total:Q,_total:r,total_plus_fee:m,extraFee:G,cartQty:dt}),R!==Q?(X.formatted_options_total=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_sale_price,{price:H,sale_price:et,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})),X._foriginal_total=H,X._ftotal=et):X.formatted_options_total=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_price,{price:et,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})))),B&&0<=p&&(g=Et(p),h="1"===lt&&0<parseFloat(C+G)?parseFloat(C+G):parseFloat(parseFloat(a*dt)+C+G),It.customer_price_format&&(at=It.customer_price_format_wrap_start,it=It.customer_price_format_wrap_end,g=(C=It.customer_price_format).replace("__PRICE__",g).replace("__CODE__",It.current_currency),ut.data("is-on-sale")||(h=C.replace("__PRICE__",h).replace("__CODE__",It.current_currency))),g=Ft.epoAPI.applyFilter("tc_adjust_native_price",g,p),h=Et(h=At(h,ut,void 0,0,void 0,void 0,!0)),h=Ft.epoAPI.applyFilter("tc_adjust_native_regular_price",h,p),ut.data("is-on-sale")||R!==Q?X.formatted_final_total=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_sale_price,{price:h,sale_price:g,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})):X.formatted_final_total=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_price,{price:g,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it}))),X._f_regular_price=h,X._fprice=g),X=jt("formatted_fees_original_total","cart_fee_options_total_original_price",X=Ft.epoAPI.applyFilter("tc_adjust_tc_totals_ob",X,{epo_object:nt,showTotal:$,epoHolder:ft,totalsHolder:ut,tm_set_price:St,tm_set_price_totals:Ot,product_total_price:p,product_price:U,qty:dt}),ut),X=jt("formatted_fees_total","cart_fee_options_total_price",X,ut),X=jt("formatted_final_original_total","product_total_original_price",X,ut),X=jt("formatted_final_total","product_total_price",X,ut),X=jt("formatted_options_original_total","options_original_total_price",X,ut),X=jt("formatted_options_total","options_total_price",X,ut),X=jt("formatted_unit_original_price","product_unit_original_price",X,ut),X=jt("formatted_unit_price","product_unit_price",X,ut),void 0!==(nt.tc_totals_ob=X).showTotal&&($=X.showTotal),Q=Ft.epoAPI.template.html(Ct.templateEngine.tc_final_totals,X),ut.data("tm-html",Q),ut.data("tc_totals_ob",X),nt.associated_connect&&1===nt.associated_connect.length&&("1"===nt.associated_connect.attr("data-no-price")?(j=O=T=q=0,D=z="",zt(S.closest(".tmcp-field-wrap").find(".tc-price").not(Ct.associatedEpoSelector+" .tc-price"),q,z,O,D)):(q=X.product_price+X.options_price_per_unit+X.cart_fee_options_total_price/X.qty,T=X.raw_product_price+X.raw_options_price_per_unit+X.raw_cart_fee_options_total_price/X.qty,O=X.product_regular_price+X.options_original_price_per_unit+X.cart_fee_options_total_original_price/X.qty,j=X.raw_product_regular_price+X.raw_options_original_price_per_unit+X.raw_cart_fee_options_original_total_price/X.qty,z=St(q,nt.this_epo_totals_containe,!1,!1,S),D=St(O,nt.this_epo_totals_containe,!1,!1,S),zt(S.closest(".tmcp-field-wrap").find(".tc-price").not(Ct.associatedEpoSelector+" .tc-price"),q,z,O,D),nt.associated_connect.data("tm-quantity",X.qty),nt.associated_connect.data("tm-quantity")&&(q*=parseFloat(nt.associated_connect.data("tm-quantity")),T*=parseFloat(nt.associated_connect.data("tm-quantity")),O*=parseFloat(nt.associated_connect.data("tm-quantity")),j*=parseFloat(nt.associated_connect.data("tm-quantity"))),z=St(q,nt.this_epo_totals_containe,!1,!1,S),D=St(O,nt.this_epo_totals_containe,!1,!1,S)),nt.associated_connect.data("price_set",1),S.data("associated_price_set",1),S.data("price_set",1),S.data("raw_price",T),S.data("raw_original_price",j),S.data("price",At(q,nt.this_epo_totals_containe,S)),S.data("original_price",At(O,nt.this_epo_totals_containe,S)),nt.associated_connect.data("price-changed",1),setTimeout(function(){nt.associated_connect&&t.noassociated||nt.mainEpoObject.main_cart.trigger({type:"tm-epo-update",norules:2})},20)),Pt.trigger("tcEpoAfterCalculateTotals",{epo:nt,alternativeCart:_t,this_product_type:ht,cart:M,bundleid:ct,totalsObject:X,main_product:yt,per_product_pricing:Z}),Z=Ft.epoAPI.applyFilter("hide_native_price",!0),$&&0<dt?("disable_change"!==vt&&"yes"!==It.tm_epo_change_variation_price||(!0===Z&&"disable"!==vt&&"disable_change"!==vt?Dt(M).hide():Dt(M).show()),"disable"===vt||"disable_change"===vt||"hideiftotaliszero"===vt&&0===p||("hideifoptionsiszero"===vt||"optionsiftotalnotzero"===vt)&&0===m||"hide"===vt?ut.html(Q=""):(ut.html(Q),Pt.trigger("tc-totals-container",{epo:X,totals_holder:ut,data:{epo_object:nt,tm_set_price:St,tm_set_price_totals:Ot,product_total_price:p,product_price:U,qty:dt},tm_epo_js:It})),B&&0<=p&&(B=Dt(M),"disable_change"!==vt&&"yes"!==It.tm_epo_change_variation_price||(L=(L=ut.data("is-on-sale")?jt("formatted","raw",L={formatted:L=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_sale_price,{price:h,sale_price:g,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})),raw:X.product_total_price},ut):jt("formatted","raw",L={formatted:L=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_price,{price:g,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})),raw:X.product_total_price},ut)).formatted,B.html(L).show()),"disable_change"!==vt&&"yes"!==It.tm_epo_change_original_price||(_t&&0!==yt.find(".cpf-bto-price").length||(void 0===(N=0===(N=nt.associated_connect?nt.main_product.find(Ct.associatedNativeProductPriceSelector):Ft(Ct.nativeProductPriceSelector)).length&&yt.is(".tc-after-shop-loop")?yt.closest(".product").find(".price"):N).data("tc-original-html")&&N.data("tc-original-html",N.html()),0<p?(L=(L=!ut.data("is-on-sale")||"1"===lt&&0<parseFloat(_+G)?jt("formatted","raw",L={formatted:L=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_price,{price:g,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})),raw:X.product_total_price},ut):jt("formatted","raw",L={formatted:L=Ft.epoAPI.util.decodeHTML(Ft.epoAPI.template.html(Ct.templateEngine.tc_formatted_sale_price,{price:h,sale_price:g,customer_price_format_wrap_start:at,customer_price_format_wrap_end:it})),raw:X.product_total_price},ut)).formatted,N.html(L).show()):ht&&"composite"!==ht&&(nt.associated_connect?N.html(Ft.epoAPI.util.decodeHTML(It.assoc_current_free_text)):N.html(Ft.epoAPI.util.decodeHTML(It.current_free_text)))),Pt.trigger("tcEpoMaybeChangePriceHtml",{epo:nt,alternativeCart:_t,this_product_type:ht,cart:M,bundleid:ct,totalsObject:X,main_product:yt,nativePrice:g}))),_t?bt.trigger({type:"tm-epo-update",norules:1}):wt.data("is_active",!0)):(nt.associated_connect&&(N=nt.main_product.find(Ct.associatedNativeProductPriceSelector)).html(N.data("tc-original-html")),Dt(M).each(function(){var t=Ft(this);t.data("tm-original-html")?t.html(t.data("tm-original-html")):t.data("tm-original-html",t.html())}),0===J&&"yes"===It.tm_epo_remove_free_price_label?Dt(M).hide():"disable_change"!==vt&&"yes"!==It.tm_epo_change_variation_price||!0===Z&&"disable"!==vt&&"disable_change"!==vt||Dt(M).show(),ut.empty(),_t&&bt.trigger({type:"tm-epo-update",norules:1})),bt.trigger("tm-epo-after-update",{container:mt}),Pt.trigger("tc-epo-after-update",{epo:X,totals_holder:ut,data:{epo_object:nt,add_late_fields_prices:Ut,tm_set_price:St,tm_set_price_totals:Ot,product_total_price:p,product_price:U,qty:dt,bundleid:ct,currentCart:gt},tm_epo_js:It})}}),"variable"!==ht&&"variable-subscription"!==ht||((e=ft.find(".tm-epo-variation-section").first()).find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(){var t=Ft(this),e=Ft.epoAPI.dom.id(t.attr("data-tm-for-variation")),a=t.closest(".cpf-type-variations"),i=t.closest(".cpf-element").find(".tm-epo-variation-element"),o=t.closest(".cpf-element").find(".tmcp-field-wrap");i.prop("checked",!1),o.removeClass("tc-active"),x.find("[data-attribute_name='attribute_"+e+"']").val("").trigger("change"),x.find("[data-attribute_name='attribute_"+e+"']").trigger("focusin"),yt.find(".cpf-type-variations").not(a).each(function(t,e){x.find("[data-attribute_name='attribute_"+Ft.epoAPI.dom.id(Ft(e).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))+"']").trigger("focusin")}),t.trigger("blur"),x.trigger("woocommerce_update_variation_values_tmlogic")}),e.find("input.tm-epo-variation-element,input.tm-epo-variation-element + span").off("mouseup.cpfv").on("mouseup.cpfv",function(){var t=Ft(this);(t=t.is("span")?t.prev("input"):t).attr("disabled")&&x.find(".reset_variations").trigger("click"),t=Ft.epoAPI.dom.id(t.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin")}),e.off("click."+b+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations").on("click."+b+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations",{_epoObject:pt},function(t){"disable_change"!==vt&&"yes"!==It.tm_epo_change_original_price||_t&&0!==yt.find(".cpf-bto-price").length||(t=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find(Ct.associatedNativeProductPriceSelector):Ft(Ct.nativeProductPriceSelector)).data("tc-original-html")&&t.html(t.data("tc-original-html")),x.find(".variations .reset_variations, .tc-epo-element-variable-reset-variations").first().trigger("click")}),e.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(t){var e,a=Ft(this),i=Ft.epoAPI.dom.id(a.attr("data-tm-for-variation")),o=a.val(),r=a.closest(".cpf-type-variations"),i=x.find("[data-attribute_name='attribute_"+i+"']");a.closest(".tm-epo-variation-section").is(".tm-hidden")||(t&&t.type&&"tm_epo_variation_element_change"===t.type||(e=!1,i.each(function(){if(this.value===o)return!(e=!0)}),e||i.trigger("focusin"),i.val(o).trigger("change")),o||i.trigger("focusin"),yt.find(".cpf-type-variations").not(r).each(function(){x.find("#"+Ft.epoAPI.dom.id(Ft(this).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),a.trigger("blur"),x.trigger("woocommerce_update_variation_values_tmlogic"))}).off("focusin.cpfv").on("focusin.cpfv",function(){var t=Ft(this);t.is("select")&&(t=Ft.epoAPI.dom.id(t.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin"),x.trigger("woocommerce_update_variation_values_tmlogic"))}),x.off(w+"found_variation.tmepo tm_fix_stock",".single_variation_wrap").on(w+"found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(){M(Ft(this),mt)}),x.off(w+"found_variation.tmepo").on(w+"found_variation.tmepo",function(t,e){var a,i,o,r,n,c,l,d=Ft(this);ut.data("is-on-sale",e.tc_is_on_sale),ut.data("regular-price",B(e.display_regular_price,ut)),Pt.trigger("tm-epo-found-variation",{epo:pt,totalsHolder:ut,totalsHolderContainer:s,currentCart:gt,variationForm:d,variation:e}),o=(a={epoHolder:ft,totalsHolder:ut,totalsHolderContainer:s,currentCart:gt,variationForm:d,variation:e}).epoHolder,r=a.totalsHolder,n=a.totalsHolderContainer,c=a.currentCart,l=a.variationForm,e=a.variation,a=r.data("variations"),r.data("current_variation",e),e&&"display_price"in e&&!r.data("tm-epo-is-woocs")?(i=e.display_price,r.data("priceIsWithDiscount","1"),r.removeData("tcprice")):a&&e&&e.variation_id&&void 0!==a[e.variation_id]?(i=a[e.variation_id],r.removeData("tcprice")):e&&Ft(e.price_html).find(".amount:last").length&&(i=(i=(i=(i=Ft(e.price_html).find(".amount:last").text()).replace(It.currency_format_thousand_sep,"")).replace(It.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),i=parseFloat(i),r.removeData("tcprice")),i=B(i,r),r.data("price",i),n.find(".cpf-product-price").val(i),setTimeout(function(){o.find("select.tm-epo-field").trigger("tm-select-change-html-all-math")},100),l.data("tm-styled-variations")||c.trigger({type:"tm-epo-update"}),M(d,mt)}).off(w+"hide_variation.tmepo").on(w+"hide_variation.tmepo",{_epoObject:pt},function(t){"disable_change"!==vt&&"yes"!==It.tm_epo_change_original_price||_t&&0!==yt.find(".cpf-bto-price").length||(t=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find(Ct.associatedNativeProductPriceSelector):Ft(Ct.nativeProductPriceSelector)).data("tc-original-html")&&t.html(t.data("tc-original-html")),ut.data("price",!1),ut.removeData("tcprice"),gt.trigger({type:"tm-epo-update",norules:2})}).off(w+"check_variations.tmepo").on(w+"check_variations.tmepo",function(){var a={},i=0,t=e.find(".reset_variations");x.find(".variations select, .tc-epo-variable-product-selector").each(function(){var t=Ft(this).data("attribute_name")||Ft(this).attr("name"),e=Ft(this).val()||"";0<e.length&&i++,a[t]=e}),0<i?"hidden"===t.css("visibility")&&t.css("visibility","visible").hide().fadeIn():t.css("visibility","hidden")}).trigger(w+"check_variations"),function(t,e,a,i){var o,r,n,c,l,d,s,p,m=t.epoEventId,_="input[name^='variation_id']",f=t.is_associated?"tc_variation_form.tmlogic":"wc_variation_form.tmlogic",u=t.is_associated?"tc_":"",g=t.variations_form,h=t.is_associated?g.find(".tc-epo-element-variations"):g.find(".variations"),v=t.is_associated?".tc-epo-element-variable-reset-variations":".reset_variations";if(g.attr("data-epo_id",t.epo_id),0<e.find("input.variation_id").length&&(_="input.variation_id"),i.find(".tm-epo-variation-element").length||i.data("tm-epo-variation-element")){if((o=i.find(".tm-epo-variation-section").first()).find(".cpf-type-variations").attr("data-epo_id",t.epo_id).attr("data-product_id",g.attr("data-product_id")),i.data("tm-epo-variation-element",o.find(".tm-epo-variation-element")),a&&"main"!==a&&!t.is_associated){if(h=(g=t.form).find('.composite_component[data-item_id="'+a+'"]').find(".variations"),g.attr("data-epo_id",t.epo_id),0===h.length)return;r=o.closest("li.tm-extra-product-options-field"),o.is(".tm-hidden")||h.hide(),h.after(o.addClass("tm-extra-product-options nopadding")),r.is(":empty")&&r.hide(),o.is(".section_popup")?o.wrap("<div class='tc-styled-variations tc-row'></div>"):(o.removeClass("tc-cell"),o.wrap("<div class='tc-styled-variations'></div>")),n=!1,e.off(f).on(f,function(){for(n=!0,g.on("click.tmlogic",".reset_variations",function(){o.find("select.tm-epo-variation-element").val("").children("option").prop("disabled",!1).show(),o.find(".tm-epo-variation-element").prop("disabled",!1).removeClass("tm-disabled").prop("checked",!1).closest("li").show(),Pt.trigger("tmlazy"),o.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),o.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")}),e.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){L(e,t)}),p=0;p<C.length;p+=1)c=C[p],"object"===typeof c&&(l="string"==typeof c.name||!1,d="string"==typeof c.selector||!1,s="function"==typeof c.func||!1,l&&s&&("input[name='variation_id']"===d&&(d=_),c.selector?e.data("tm-styled-variations",1).off(u+c.name,c.selector).on(u+c.name,c.selector,c.func):e.data("tm-styled-variations",1).off(u+c.name).on(u+c.name,c.func)));C=[],o.find(".tm-epo-variation-element:not(.tm-hidden .tm-epo-variation-element)").last().trigger("tm_epo_variation_element_change")}),Ft(function(){!1===n&&e.trigger(f)})}else{for(o.length&&(o.is(".tm-hidden")||h.hide(),r=o.closest("li.tm-extra-product-options-field"),h.after(o.addClass("tm-extra-product-options nopadding")),r.is(":empty")&&r.hide(),o.is(".section_popup")?o.wrap("<div class='tc-styled-variations tc-row'></div>"):(o.removeClass("tc-cell"),o.wrap("<div class='tc-styled-variations'></div>")),g.off("click.tmlogic",v).on("click.tmlogic",v,function(){o.find("select.tm-epo-variation-element").val("").children("option").prop("disabled",!1).show(),o.find(".tm-epo-variation-element").prop("disabled",!1).removeClass("tm-disabled").prop("checked",!1).closest("li").show(),Pt.trigger("tmlazy"),o.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),o.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")})),g.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){L(g,t)}),p=0;p<C.length;p+=1)c=C[p],"object"===typeof c&&(l="string"==typeof c.name||!1,d="string"==typeof c.selector||!1,s="function"==typeof c.func||!1,l&&s&&("input[name='variation_id']"===d&&(d=_),c.selector?g.data("tm-styled-variations",1).off(u+c.name,c.selector).on(u+c.name,c.selector,c.func):g.data("tm-styled-variations",1).off(u+c.name).on(u+c.name,c.func)));C=[],o.find(".tm-epo-variation-element:not(.tm-hidden .tm-epo-variation-element)").last().trigger("tm_epo_variation_element_change")}Ft.tcepo.formSubmitEvents[m][Ft.tcepo.formSubmitEvents[m].length]={trigger:function(){return!0},on_true:function(){return o.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){o.find(".tm-epo-variation-element").prop("disabled",!1)}},Ft(F.body).on("added_to_cart",function(){o.find(".tm-epo-variation-element").prop("disabled",!1)})}}(pt,mt,v,ft)),d.trigger("tm-select-change-html"),c.trigger("change.cpf",{init:1}),l.trigger("showhide.cpfcustom"),n.filter(":checked").trigger("cpfclearbutton"),Pt.on("tm-do-epo-update",function(){gt.trigger({type:"tm-epo-update"})}),Pt.trigger("tm-epo-init-events",{epo:{epo_id:g,form:pt.form,currentCart:gt,cart_container:mt,epo_holder:ft,totals_holder_container:s,totals_holder:ut,main_cart:bt,main_epo_inside_form:kt,product_id_selector:h,epo_id_selector:u,product_id:m,this_epo_container:_,this_totals_container:f,this_epo_totals_container:wt}}),Pt.trigger("epoEventHandlers",{epo:pt,currentCart:gt,cartContainer:mt,qtyElement:y,epoHolder:ft,totalsHolderContainer:s,totalsHolder:ut,variationForm:x,variation_id_selector:t,main_epo_inside_form:kt,this_product_type:ht,get_price_excluding_tax:q,get_price_including_tax:S}),"disable"!==vt&&"disable_change"!==vt&&"hide"!==vt&&s.addClass("tc-show"),Pt.trigger("epo_options_before_visible"),"yes"===It.tm_epo_progressive_display?setTimeout(function(){ft.css("opacity",0).addClass("tc-show").animate({opacity:1},Ct.epoAnimationDelay,"easeOutExpo",function(){Pt.trigger("epo_options_visible"),Pt.trigger("tmlazy")})},Ct.epoDelay):(ft.addClass("tc-show"),Pt.trigger("epo_options_visible"),Pt.trigger("tmlazy")),yt.addClass("tc-init")}function xt(t){var e=t.variations_form,a=t.main_cart,i=t.this_epo_container,o=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";e.off(o).on(o,function(){e.data("epo_loaded")||(z(i),D(i),Ft.tcepo.lateFieldsPrices[t.epoEventId]=[],wt(t),lt(t),ut(t),t.noEpoUpdate=!1,setTimeout(function(){j(i),a.trigger({type:"tm-epo-update",rules:"init"})},10),e.data("epo_loaded",!0))}),h&&e.trigger(o),Pt.trigger("epo-after-init",{epo:t})}function kt(t,e,a,i,o){var r=Ft.extend(!0,{},t),n=i.attr("data-product-id"),c=i.attr("data-epo-id"),l=".tm-product-id-"+n,d="[data-epo-id='"+c+"']",s="p"+n+"e"+c,p=Ft(".tc-extra-product-options"+l+d),m=Ft(".tc-totals-form"+l+d),_=Ft(".tc-epo-totals"+l+d);t.isManual=!0,Ft.tcepo.formSubmitEvents[s]=[],Ft.tcepo.errorObject[s]=!1,Ft.tcepo.initialActivation[s]=!1,t.product_id=n,t.product_id_selector=l,t.epo_id=c,t.epo_id_selector=d,t.epoEventId=s,t.noEpoUpdate=!0,t.thisForm=e,t.this_epo_container=p,t.this_totals_container=m,t.this_epo_totals_container=_,K(),o.find(".tm-collapse").tmtoggle(),o.find(".tm-section-link").tmsectionpoplink(),vt(e),gt(e),ot(e,t),tt(e),rt(i),nt(i.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio-image")),z(i),D(i),j(i),Ft.tcToolTip(e.find(".tm-tooltip")),wt(t,e,a),t.noEpoUpdate=!1,a.trigger({type:"tm-epo-update",norules:2}),setTimeout(function(){t.main_cart.trigger({type:"tm-epo-update",epoObject:r,norules:1})},200),M(a,e)}function Qt(t,e,a,i,o,r,n){var c,l,d,s,p,m,_,f,u,g=!1,h=!1,v=!1,y=void 0!==a,b=!1,w=0<Ft(".variation_form_section .variations-table").length,x=!1;return!(!(t=Ft(t)).is(".tc-init")||n)||(A=e?t:Ft(k),Pt.trigger("tm-epo-init-start"),y||t.is(".product")&&(b=!0,y=I.find(Ct.epoSelector).length),y||"no"!==It.tm_epo_enable_final_total_box_all||t.is(".tm-no-options-composite")?(b&&(Pt.trigger("tm-epo-init-no-options"),!t.is(".product")||t.is(".tm-no-options-pxq")||t.is(".tm-no-options-composite")||(t=I)),a||(s=t.find(Ct.addToCartSelector).last(),a=(a=0<s.length?s.val():(s=Ft(".tc-totals-form.tm-totals-form-main")).attr("data-product-id"))||""),i||(i=parseInt(t.find("input.tm-epo-counter").last().val(),10),Number.isFinite(i)||(i="")),l=Ft(".tc-extra-product-options"+(p=".tm-product-id-"+a)+(m="[data-epo-id='"+i+"']")),_=Ft(".tc-totals-form"+p+m),b=Ft(".tc-epo-totals"+p+m),s=t.find(".variations_form").not(".composite_component .variations_form").first(),c="p"+a+"e"+i,s&&s.attr("data-product_id")&&s.attr("data-product_id")!==a&&(s=t.find(".variations_form[data-product_id='"+a+"']")),0===(g=J(t,t,"form",a)).length&&(t.is(".tc-shortcode-wrap")?g=J(_,_,".tc-totals-form",a):t.is(".tc-epo-element-product-container")&&(0===(g=t.find(Ct.associatedEpoCart)).length&&0===(g=l.parent(Ct.associatedEpoSelector)).length&&(g=t.find(".tc-epo-element-product-container-right")),x=!0)),x&&0===s.length&&t.is(".variations_form")&&(s=t),Ft.tcepo.formSubmitEvents[c]=[],Ft.tcepo.errorObject[c]=!1,Ft.tcepo.initialActivation[c]=!1,0<g.find(Ct.epoSelector).length&&(h=!0),(v=0<g.find(".tc-totals-form").length?!0:v)||(Ft.tcepo.formSubmitEvents[c][Ft.tcepo.formSubmitEvents[c].length]={trigger:function(){return!0},on_true:function(){var t=Ft(".tc-totals-form.tm-product-id-"+a+"[data-epo-id='"+i+"']").tcClone(),e=Ft('<div class="tm-hidden tm-formepo-normal"></div>');return g.find(".tm-formepo-normal").remove(),e.append(t),g.append(e),!0},on_false:function(){setTimeout(function(){Ft(".tm-formepo-normal").remove()},100)}}),h||(Ft.tcepo.formSubmitEvents[c][Ft.tcepo.formSubmitEvents[c].length]={trigger:function(){return!0},on_true:function(){var t=Ft(Ct.epoSelector+".tm-product-id-"+a+"[data-epo-id='"+i+"']").tcClone().addClass("formepo"),e=Ft('<div class="tm-hidden tm-formepo"></div>');return g.find(".tm-formepo").remove(),e.append(t),g.append(e),!0},on_false:function(){setTimeout(function(){Ft(".tm-formepo").remove()},100)}}),d={main_product:t,main_cart:g,epo_id:i,form:U(t),main_epo_inside_form:h,product_id_selector:p,epo_id_selector:m,product_id:a,this_epo_container:l,this_totals_container:_,this_epo_totals_container:b,qtySelector:Ct.qtySelector,manualInitEPO:kt,epoEventId:c,variations_form:s,has_epo:y,is_quickview:e,is_associated:x,is_epo_shortcode:l.is(".tc-shortcode"),mainEpoObject:r,associated_connect:o,noEpoUpdate:!0},Ft(d.form).data("epo_object",d),g.data("product_id",a).data("epo_id",i).data("product_id_selector",p).data("epo_id_selector",m),y=(_=d).this_epo_container,r=_.main_product,o=_.epoEventId,p=y.find(".tm-limit"),m=y.find(".tm-exactlimit"),_=y.find(".tm-minimumlimit"),y.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var t=Ft(this);R(t,!0),Q(t,!0)}),p.length&&$(p,r,o),m.length&&Z(m,r,o),_.length&&W(_,o),o=(_=d).epoEventId,f=_.this_epo_container,"yes"===It.tm_epo_upload_popup&&(Ft.tcepo.formSubmitEvents[o][Ft.tcepo.formSubmitEvents[o].length]={trigger:function(){return!0},on_true:function(){var t,e,a=f.data("num_uploads");return a&&Object.keys(a).length&&(t=Ft.tcFloatBox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tc-wrapper",data:Ft.epoAPI.template.html(Ct.templateEngine.tc_upload_messages,{files:a,title:It.i18n_uploading_files,message:It.i18n_uploading_message})}),e=function(){t.destroy(),P.off("ajaxSuccess",e)},P.on("ajaxSuccess",e)),!0},on_false:function(){return!0}}),vt(l),gt(l),ot(l,d),P.on("click.cpfurl change.cpfurl tmredirect",".tc-url-container .tmcp-radio, .tc-url-container .tmcp-radio+label",function(t){var e=Ft(this).attr("data-url");e&&k.location!==e&&(t.preventDefault(),k.location=e)}),P.on("change.cpfurl tmredirect",".tc-url-container .tmcp-select",function(t){var e=Ft(this).children("option:selected").attr("data-url");e&&k.location!==e&&(t.preventDefault(),k.location=e)}),Ft.tcToolTip(l.find(".tm-tooltip")),l.find(".tm-collapse").tmtoggle(),l.find(".tm-section-link").tmsectionpoplink(),n&&l.addClass("reactivate"),0<s.length?(n&&s.data("epo_loaded",!1),b.data("price",!1),(w?function t(e){var a=requestAnimationFrame(function(){t(e)}),i=e.variations_form,o=i.data("bound"),r=e.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";o&&(cancelAnimationFrame(a),xt(e),i.trigger(r))}:xt)(d)):(setTimeout(function(){z(l),D(l),j(l),Ft.tcepo.lateFieldsPrices[c]=[],wt(d),lt(d),ut(d),Pt.trigger("epo-after-init-in-timeout",{epo:d}),g.trigger("tm-epo-check-dpd"),d.noEpoUpdate=!1,g.trigger({type:"tm-epo-update",rules:"init"})},20),Pt.trigger("epo-after-init",{epo:d})),K(),tt(l),rt(l),nt(l.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio-image")),function(t){var e,a,i=t.this_epo_totals_container,o=t.this_epo_container;if(i=i.attr("data-theme-name")){switch(i=i.toLowerCase(),e=o.find("select"),i){case"flatsome":case"flatsome-child":case"flatsome child":e.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":e.wrap('<div class="avada-select-parent tm-select-parent"></div>'),Ft('<div class="select-arrow">&#xe61f;</div>').appendTo(o.find(".tm-select-parent")),k.calc_select_arrow_dimensions?(k.calc_select_arrow_dimensions(),Pt.on("tmsectionpoplink cpflogicdone",function(){k.calc_select_arrow_dimensions()})):k.calcSelectArrowDimensions&&(k.calcSelectArrowDimensions(),Pt.on("tmsectionpoplink cpflogicdone",function(){k.calcSelectArrowDimensions()}));break;case"bazar":case"bazar-child":case"bazar child":e.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":a=function(){setTimeout(function(){Ft(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){Ft(this).is(".mpcthSelect")||(Ft(this).width(Ft(this).outerWidth()),Ft(this).customSelect({customClass:"mpcthSelect"}))})},100)},Pt.on("cpflogicrun",function(){a()}),Pt.on("epo_options_visible",function(){a()});break;case"handmade":case"handmade child theme":Ft(".tm-owl-slider.tcowl-carousel").addClass("manual")}Pt.trigger("tm-theme-specific-actions",{epo:{theme_name:i,all_epo_selects:e}})}P.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){Ft(this).closest(".quantity").find(Ct.qtySelector).trigger("change.cpf")})}(d),w=d,Pt.trigger("tm-epo-compatibility",{epo:w}),x||(x=b,b=g,Ft.tcFloatingTotalsBox(x,e,b),e=(u=d).form,b=u.epoEventId,Pt.trigger("tm-from-submit",{epo:u,functions:{tm_apply_validation:bt,apply_submit_events:yt}}),!bt(u)&&Ft.tcepo.formSubmitEvents[b].length&&e.on("submit",function(){yt(u)}),Nt(t,d,Ft.tcepo.oneOptionIsSelected[c])),Pt.trigger("tm-epo-init-end",{epo:d}),d):void Pt.trigger("tm-epo-init-end-no-options"))}function $t(){var t,e;"no"===It.tm_epo_no_lazy_load&&Ft.extend(Ft.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:Ft.lazyLoadXT.updateEvent+" tmlazy"}),0<(t=Ft(".tm-no-options-pxq, .tm-no-options-composite")).length&&t.each(function(t,e){Qt(Ft(e),!1)}),setTimeout(function(){try{0<(e=Ft(Ct.epoSelector).not(Ct.associatedEpoSelector+" "+Ct.epoSelector+", .tm-no-options-pxq, .tm-no-options-composite, .wc-product-table "+Ct.epoSelector)).length&&e.each(function(){var t=Ft(this),e=t.attr("data-product-id"),a=t.attr("data-epo-id"),i=!1,o=!1,r=t.closest(".tc-after-shop-loop.tm-has-options");0===r.length?0===(r=Ft(Ct.tcAddToCartSelector+"[data-epo-id='"+a+"'][value='"+e+"']").closest("form,.cart").first().parent()).length&&0===(r=Ft(Ct.addToCartSelector+"[value='"+e+"']").closest("form,.cart").first().parent()).length&&0===(r=t.closest("form,.cart").first().parent(".tm-has-options")).length&&(t.is(".tc-shortcode")&&(r=t.wrap('<div class="tc-shortcode-wrap tc-wrap-'+a+'"></div>'),r=t.parent()),0<r.length&&(o=!0)):o=!0,0<r.length&&(o&&(i=!0,t.closest("form,.cart").first().append(Ft('<input name="add-to-cart" value="'+e+'" type="hidden">')),t.closest("form,.cart").first().append(Ft('<input type="hidden" value="" class="variation_id" name="variation_id">'))),Qt(r=r.is("form")?r.parent():r,i,e,a))})}catch(t){k.console.log(t),b=t}},1)}It&&a&&(Ft.fn.val=function(){var t=c.apply(this,arguments);return 0<arguments.length&&Ft(this).is(".input-text.qty")&&Ft(this).trigger("change.cpf"),t},"no"===It.tm_epo_no_lazy_load&&Ft.lazyLoadXT&&Ft.extend(Ft.lazyLoadXT,{autoInit:!1,updateEvent:Ft.lazyLoadXT.updateEvent+" tmlazy"}),Ct.localInputDecimalSeparator=""===It.tm_epo_global_input_decimal_separator?It.currency_format_decimal_sep:Ft.epoAPI.locale.getSystemDecimalSeparator(),Ct.localDecimalSeparator=""===It.tm_epo_global_displayed_decimal_separator?It.currency_format_decimal_sep:Ft.epoAPI.locale.getSystemDecimalSeparator(),Ct.localThousandSeparator=""===It.tm_epo_global_displayed_decimal_separator?It.currency_format_thousand_sep:Ft.epoAPI.locale.getSystemDecimalSeparator(),Ct.epoDelay=It.tm_epo_start_animation_delay||k.tc_epo_delay||500,Ct.epoAnimationDelay=It.tm_epo_animation_delay?It.tm_epo_start_animation_delay:k.tc_epo_animation_delay||500,Ct.getElementFromFieldCache=[],Ct.epoSelector=".tc-extra-product-options",Ct.associatedEpoSelector=".tc-extra-product-options-inline",Ct.associatedEpoCart=".tc-epo-element-product-container-cart",Ct.addToCartSelector="input[name='add-to-cart']",Ct.tcAddToCartSelector="input.tc-add-to-cart",Ct.qtySelector="input.qty,input[name='quantity'],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount",Ct.associateQtySelector="input.tm-qty-alt",Ct.addToCartButtonSelector=".add_to_cart_button, .single_add_to_cart_button",Ct.compositeSelector=".bto_item,.component",Ct.nativeProductPriceSelector=".woocommerce div.product p.price",Ct.associatedNativeProductPriceSelector=".product-price span.price",Ct.templateEngine=Ft.epoAPI.applyFilter("tc_adjust_templateEngine",{price:a.template("tc-price"),sale_price:a.template("tc-sale-price"),tc_chars_remanining:a.template("tc-chars-remanining"),tc_final_totals:a.template("tc-final-totals"),tc_floating_box:a.template("tc-floating-box"),tc_floating_box_nks:a.template("tc-floating-box-nks"),tc_formatted_price:a.template("tc-formatted-price"),tc_formatted_sale_price:a.template("tc-formatted-sale-price"),tc_lightbox:a.template("tc-lightbox"),tc_lightbox_zoom:a.template("tc-lightbox-zoom"),tc_section_pop_link:a.template("tc-section-pop-link"),tc_upload_messages:a.template("tc-upload-messages")}),Ft.tcAPI=function(){return Ct},Ft.tcAPIGet=function(t){return Ct[t]},Ft.tcAPISet=function(t,e){Ct[t]=e},Ft.tc_validator&&Ft.extend(Ft.tc_validator.messages,{required:It.tm_epo_global_validator_messages.required,email:It.tm_epo_global_validator_messages.email,url:It.tm_epo_global_validator_messages.url,number:It.tm_epo_global_validator_messages.number,digits:It.tm_epo_global_validator_messages.digits,maxlengthsingle:Ft.tc_validator.format(It.tm_epo_global_validator_messages.maxlengthsingle),maxlength:Ft.tc_validator.format(It.tm_epo_global_validator_messages.maxlength),minlengthsingle:Ft.tc_validator.format(It.tm_epo_global_validator_messages.minlengthsingle),minlength:Ft.tc_validator.format(It.tm_epo_global_validator_messages.minlength),max:Ft.tc_validator.format(It.tm_epo_global_validator_messages.max),min:Ft.tc_validator.format(It.tm_epo_global_validator_messages.min),step:Ft.tc_validator.format(It.tm_epo_global_validator_messages.step),lettersonly:Ft.tc_validator.format(It.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:Ft.tc_validator.format(It.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:Ft.tc_validator.format(It.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:Ft.tc_validator.format(It.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:Ft.tc_validator.format(It.tm_epo_global_validator_messages.alphanumericunicodespace),repeaterminrows:Ft.tc_validator.format(It.tm_epo_global_validator_messages.repeaterminrows),repeatermaxrows:Ft.tc_validator.format(It.tm_epo_global_validator_messages.repeatermaxrows)}),Ft.tc_validator&&(Ft.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^[a-zA-Z0-9.-]+$/i.test(t)},Ft.tc_validator.messages.alphanumeric),Ft.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},Ft.tc_validator.messages.lettersonly),Ft.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z,\u0020]+$/i.test(t)},Ft.tc_validator.messages.lettersspaceonly),Ft.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u10E60-\u10E7F\u1EC70-\u1ECBF\u1ED00-\u1ED4F\u1EE00-\u1EEFF\u0530-\u1058F]+$/i.test(t)},Ft.tc_validator.messages.alphanumericunicode),Ft.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u10E60-\u10E7F\u1EC70-\u1ECBF\u1ED00-\u1ED4F\u1EE00-\u1EEFF\u0530-\u1058F,\u0020]+$/i.test(t)},Ft.tc_validator.messages.alphanumericunicodespace),Ft.tc_validator.addMethod("repeaterminrows",function(t,e,a){return Ft.epoAPI.math.toInt(Ft(e).closest(".tc-element-inner-wrap").find(".tc-repeater-element").length)>=Ft.epoAPI.math.toInt(a)},Ft.tc_validator.messages.repeaterminrows),Ft.tc_validator.addMethod("repeatermaxrows",function(t,e,a){return Ft.epoAPI.math.toInt(Ft(e).closest(".tc-element-inner-wrap").find(".tc-repeater-element").length)<=Ft.epoAPI.math.toInt(a)},Ft.tc_validator.messages.repeatermaxrows)),Ft.epoAPI.util.escapeSelector=(e=/([!"$%&'()*+,/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")}),Ft.epoAPI.util.unformat=function(t){var e=Ft.epoAPI.math.unformat(t,Ct.localInputDecimalSeparator),t=parseFloat(e);return Number.isFinite(t)?t:e},Ft.epoAPI.util.parseParams=function(t,a){return"string"!=typeof t||void 0===t.split?[]:t.split("&").map(function(t){var e={};return 1<(t=(t=!0===a?decodeURIComponent(t.replace(/\+/g,"%20")):t).split("=").map(function(t){var e=t.split("?");return 1<e.length?e[1]:t})).length&&(e[t[0]]=t[1]),e}).filter(function(t){return null!==t}).reduce(function(t,e){return Object.assign({},t,e)},{})},Ft.tmempty||(Ft.tmempty=function(e){var t=1===[void 0,null,!1,0,"","0"].filter(function(t){return e===t}).length,a=!1;return"object"==typeof e?a=0===Object.keys(e).filter(function(t){return Object.prototype.hasOwnProperty.call(e,t)}).length:t||a}),Ft.tmType||(Ft.tmType=function(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),Ft.is_on_screen||(Ft.fn.is_on_screen=function(){var t=Ft(k),e=Ft.epoAPI.dom.scroll(),a=this.offset(),e={top:e.top,left:e.left};return e.right=e.left+t.width(),e.bottom=e.top+t.height(),a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(e.right<a.left||e.left>a.right||e.bottom<a.top||e.top>a.bottom)}),Ft().tmtoggle||(Ft.fn.tmtoggle=function(){var t=this,e=!1,r=0;if(0!==t.length)return t.each(function(){var t,a,i,o=Ft(this);o.data("tm-toggle-init")||(o.data("tm-toggle-init",1),t=o.find(".tm-toggle"),a=o.find(".tm-collapse-wrap"),i=Ft(".tm-collapse.tmaccordion").find(".tm-toggle"),0!==t.length&&0!==a.length&&(a.is(".closed")?(Ft(a).removeClass("closed open").addClass("closed").hide(),Ft(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),Ft(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed")):(Ft(a).removeClass("closed open").addClass("open").show(),Ft(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),Ft(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),e=!0),t.each(function(t,e){Ft(e).on("closewrap.tmtoggle",function(){o.is(".tmaccordion")&&Ft(a).is(".closed")||(Ft(a).removeClass("closed open").addClass("closed"),Ft(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),Ft(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed"),Ft(a).removeClass("tm-animated fadein"),o.is(".tmaccordion"),Ft(a).animate({height:"toggle"},100,function(){Ft(a).hide()}),Pt.trigger("tmlazy"))}),Ft(e).on("openwrap.tmtoggle",function(){o.is(".tmaccordion")&&Ft(i).not(Ft(this)).trigger("closewrap.tmtoggle"),Ft(a).removeClass("closed open").addClass("open"),Ft(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),Ft(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),Ft(a).show().removeClass("tm-animated fadein").addClass("tm-animated fadein"),setTimeout(function(){Pt.trigger("tmlazy")},200),r&&o.is(".tmaccordion")&&!o.is_on_screen()&&Pt.tcScrollTo(Ft(e))}),Ft(e).on("click.tmtoggle",function(t){t.preventDefault(),Ft(a).is(".closed")?Ft(this).trigger("openwrap.tmtoggle"):Ft(this).trigger("closewrap.tmtoggle")}),Ft(e).find(".tm-qty").closest(".cpf-element").find(".tm-epo-field").on("change.cpf",function(){Ft(e).trigger("openwrap.tmtoggle")})})))}),void 0===k.tc_accordion_closed_on_page_load&&!e&&0<t.filter(".tmaccordion").length&&t.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),r=1,t}),Ft().tmpoplink||(Ft.fn.tmpoplink=function(){var o;if(0!==this.length)return o=function(t){return Ft.epoAPI.template.html(a.template("tc-cart-options-popup"),{title:t.title,id:t.id,html:t.html,close:It.i18n_close})},this.each(function(){var t,e,a,i=Ft(this);i.is(".tc-poplink")||(i.addClass("tc-poplink"),e=Ft(this).attr("href"),t=Ft(this).attr("data-title"),e=Ft(e).html(),t=t||It.i18n_addition_options,a=o({id:"tc-floatbox-content",html:e,title:t}),i.on("click.tmpoplink",function(t){Ft.tcFloatBox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tc-wrapper",data:a}),t.preventDefault()}))})}),(o=function(t,e,a){return this.this_epo_totals_container=t,this.is_quickview=e,this.main_cart=a,!(e||!It.floating_totals_box||"disable"===It.floating_totals_box||!a||!t.length)&&(this.init(),this)}).prototype={constructor:o,onUpdate:function(){var t,e=this.this_epo_totals_container.data("tm-html"),a=this.this_epo_totals_container.data("tm-floating-box-data"),i=[];a&&a.length&&Ft.each(a,function(t,e){""===e.title&&(e.title="&nbsp;"),""===e.value&&(e.value="&nbsp;"),e.title?(e.title=Ft("<div>"+e.title+"</div>"),e.title.find("span").remove(),e.title=e.title.html()):e.title="&nbsp;",this.is_nks&&(""!==e.label_show&&(e.title=""),""!==e.value_show&&(e.value="")),"yes"===It.tm_epo_auto_hide_price_if_zero&&!0===Ft.tmempty(e.price)?e.price="":e.price=St(e.price,this.this_epo_totals_container,!0,!1),i.push({label_show:e.label_show,value_show:e.value_show,title:e.title,value:e.value,quantity:e.quantity,price:e.price})}),e&&""!==e||this.is_nks||(e="",this.floatingBox.hide()),i&&!i.length&&i.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),e=Ft.epoAPI.template.html(this.engineTemplate,{html_before:It.floating_totals_box_html_before,html_after:It.floating_totals_box_html_after,option_label:It.i18n_option_label,option_value:It.i18n_option_value,option_qty:It.i18n_option_qty,option_price:It.i18n_option_price,values:i,totals:e}),this.floatingBox.html(e),this.onUpdateScroll(),"yes"===It.floating_totals_box_add_button&&(t=this.main_cart.find(Ct.addToCartButtonSelector).first()).tcClone().addClass("tc-add-to-cart-button").on("click",function(){t.trigger("click")}).appendTo(this.floatingBox)},onUpdateScroll:function(){"always"!==It.floating_totals_box_visibility?("hideafterscroll"===It.floating_totals_box_visibility&&(Pt.scrollTop()>Ft.epoAPI.math.toFloat(It.floating_totals_box_pixels)&&!this.is_nks_alt?this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):(this.floatingBox.is(":hidden")||this.is_nks_alt)&&(this.floatingBox.is(":empty")&&!this.is_nks_alt||(!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show()))),"afterscroll"===It.floating_totals_box_visibility&&(Pt.scrollTop()>Ft.epoAPI.math.toFloat(It.floating_totals_box_pixels)||this.is_nks_alt?this.floatingBox.is(":hidden")&&!this.floatingBox.is(":empty")||this.is_nks_alt?!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show():!this.floatingBox.is(":hidden")&&this.floatingBox.is(":empty")&&(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()))):this.floatingBox.show()},addEvents:function(){this.onUpdate(),this.main_cart.on("tm-epo-after-update",this.onUpdate.bind(this)),!1===this.is_nks&&Pt.on("scroll",this.onUpdateScroll.bind(this))},init:function(){this.floatingBox=Ft('<div class="tm-floating-box '+It.floating_totals_box+'"></div>'),this.nks_selector=Ft(".tm-floating-box-nks").first(),this.alt_selector=Ft(".tm-floating-box-alt").first(),this.engineTemplate=Ct.templateEngine.tc_floating_box,this.is_nks=!1,this.is_nks_alt=!1,0<this.nks_selector.length?(this.is_nks=!0,this.floatingBox.removeClass("top left right bottom").appendTo(this.nks_selector).show()):(0<this.alt_selector.length?this.floatingBox.removeClass("top left right bottom").appendTo(this.alt_selector):this.floatingBox.appendTo("body")).hide(),(0<this.nks_selector.length||0<this.alt_selector.length)&&(this.is_nks_alt=!0,this.engineTemplate=Ct.templateEngine.tc_floating_box_nks),this.addEvents()}},Ft.tcFloatingTotalsBox=function(t,e,a){var i=!1;return t&&t.length&&void 0===t.data("tcfloatingtotalsbox")&&(i=new o(t,e,a),t.data("tcfloatingtotalsbox",i)),i},Ft.tc_product_image={},Ft.tc_product_image_store={},Ft.tc_replace_object_values=function(a,i){return Object.keys(a).forEach(function(e){Object.keys(a[e]).forEach(function(t){void 0!==i[e]&&void 0!==i[e][t]&&Object.prototype.hasOwnProperty.call(i[e],t)&&(a[e][t]=i[e][t])})}),a},Ft.tc_maybe_copy_object_values=function(a,i){return Object.keys(i).forEach(function(e){Object.keys(i[e]).forEach(function(t){void 0===i[e]||!Object.prototype.hasOwnProperty.call(i[e],t)||void 0===i[e][t]||void 0!==a[e]&&void 0!==a[e][t]||(void 0===a[e]&&(a[e]={}),a[e][t]=i[e][t])})}),a},Ft.tc_pre_populate_store=function(){var t={0:{},1:{},2:{},3:{}};return t[0].src="",t[0].srcset="",t[0].sizes="",t[0].title="",t[0].alt="",t[0]["data-src"]="",t[0]["data-large_image"]="",t[0]["data-large_image_width"]="",t[0]["data-large_image_height"]="",t[1]["data-thumb"]="",t[2].src="",t[3].href="",t[3].title="",t},Ft.tc_populate_store=function(t,e){var a=e.find(".flex-control-nav li:eq(0) img"),i=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=t,e=t.closest("a"),t={0:{},1:{},2:{},3:{}};return t[0].src=o.attr("src"),t[0].srcset=o.attr("srcset"),t[0].sizes=o.attr("sizes"),t[0].title=o.attr("title"),t[0].alt=o.attr("alt"),t[0]["data-src"]=o.attr("data-src"),t[0]["data-large_image"]=o.attr("data-large_image"),t[0]["data-large_image_width"]=o.attr("data-large_image_width"),t[0]["data-large_image_height"]=o.attr("data-large_image_height"),t[1]["data-thumb"]=i.attr("data-thumb"),t[2].src=a.attr("src"),t[3].href=e.attr("href"),t[3].title=e.attr("title"),t},Ft.tc_maybe_copy_object_values_from_img=function(a,t,e){var i,o,r=e.find(".flex-control-nav li:eq(0) img"),n=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),e=t,t=t.closest("a"),c=[["src","srcset","sizes","title","alt","data-src","data-large_image","data-large_image_width","data-large_image_height","large-image"],["data-thumb"],["src"],["href","title"]];return[e,n,r,t].forEach(function(t,e){void 0!==t&&void 0!==t[0]&&(i=t[0].attributes,Ft.each(i,function(){this.specified&&(o=this.name,-1!==Ft.inArray(o,c[e])&&(void 0===a[e]||void 0!==a[e]&&void 0===a[e][o])&&(void 0===a[e]&&(a[e]={}),a[e][o]=this.value))}))}),a},Ft.fn.tc_set_attr=function(t,e,a){(void 0===Ft.tc_product_image[a=void 0===a?0:a]||void 0!==Ft.tc_product_image[a]&&void 0===Ft.tc_product_image[a][t])&&(void 0===Ft.tc_product_image[a]&&(Ft.tc_product_image[a]={}),Ft.tc_product_image[a][t]="",this.attr(t)&&(Ft.tc_product_image[a][t]=this.attr(t))),!1===e?this.removeAttr(t):this.attr(t,e)},Ft.fn.tc_reset_attr=function(t,e){void 0!==Ft.tc_product_image[e=void 0===e?0:e]&&(void 0!==Ft.tc_product_image[e][t]&&this.attr(t,Ft.tc_product_image[e][t]),delete Ft.tc_product_image[e][t])},Ft.fn.tc_update_attr=function(t,e){void 0!==Ft.tc_product_image[e=void 0===e?0:e]&&(Ft.tc_product_image[e][t]=this.attr(t))},Ft.fn.tc_image_update=function(t,e){var a=Ft(t),i=Ft(e),o=this.data("epo_object"),r=o.main_product.closest("#product-"+o.product_id),t=r;r.length<=0&&(t=o.main_product.closest(".post-"+o.product_id)),e=(a=a.is("select")?a.children("option:selected"):a).data("image-variations"),o=(r=""!==It.tm_epo_global_product_image_selector?Ft(It.tm_epo_global_product_image_selector):t.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img,img.emoji,a.woocommerce-product-gallery__trigger img").first()).closest("a"),1<r.length&&(r=r.first()),a&&e&&0<i.length?(i.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),a=e.imagep,e.imagep.image_link||(a=e.image),i.attr("title",a.image_title),i.attr("alt",a.image_alt),a.image_srcset&&i.attr("srcset",a.image_srcset),a.image_sizes&&i.attr("sizes",a.image_sizes),r.tc_set_attr("title",a.image_title),r.tc_set_attr("alt",a.image_alt),r.tc_set_attr("data-large-image",a.image_link),r.data.wc27_zoom_target&&(r.data.wc27_zoom_target.tc_set_attr("data-thumb",a.image_link),t.find(".flex-control-nav li:eq(0) img").tc_set_attr("src",a.image_link)),o.tc_set_attr("href",a.image_link),o.tc_set_attr("title",a.image_caption)):(r.tc_reset_attr("title"),r.tc_reset_attr("alt"),r.tc_reset_attr("data-large-image"),r.data.wc27_zoom_target&&(r.data.wc27_zoom_target.tc_reset_attr("data-thumb"),t.find(".flex-control-nav li:eq(0) img").tc_reset_attr("src")),o.tc_reset_attr("href"),o.tc_reset_attr("title"))},Ft.fn.tm_find_matching_variations=function(t,e){var a,i,o=[];if(t)for(a=0;a<t.length;a+=1)i=t[a],Ft.fn.tm_variations_match(i.attributes,e)&&o.push(i);return o},Ft.fn.tm_variations_match=function(e,a){var i,o,r=!0;return Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(i=e[t],o=a[t],void 0!==i&&void 0!==o&&0!==i.length&&0!==o.length&&i!==o&&(r=!1))}),r},Ft().tclightbox||(Ft.fn.tclightbox=function(){if(0!==this.length)return this.each(function(){var a,t,e,i,o=Ft(this);o.is(".tcinit")||(a=o.attr("src")||o.attr("data-original"),e=(e=o.closest("label")).closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+e.attr("for")+"']"),(a=e.attr("data-imagel")||e.attr("data-imagep")||e.attr("data-image")||a)&&(o.addClass("tcinit").before(Ft.epoAPI.template.html(Ct.templateEngine.tc_lightbox,{})),e=o.prev(),o.wrap("<div class='tc-lightbox-image-wrap'/>"),o.after(e),t=e.find(".tc-lightbox-button"),i=function(){t.addClass("tcinit").on("click.tclightbox",function(t){var e;0<Ft(".tc-closing.tc-lightbox").length||(e=Ft.epoAPI.dom.size(),e=Ft("<img>").addClass("tc-lightbox-img").attr("src",a).css("maxHeight",e.visibleHeight+"px").css("maxWidth",e.visibleWidth+"px"),Ft.tcFloatBox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomin",animateOut:"tc-lightbox-zoomout",data:Ft.epoAPI.template.html(Ct.templateEngine.tc_lightbox_zoom,{img:e[0].outerHTML}),zIndex:102001,cancelClass:".tc-lightbox-img, .tc-lightbox-button-close",unique:!0}),t.preventDefault())})},"yes"===It.tm_epo_preload_lightbox_image?((e=new Image).src=a,e.onload=function(){i()}):i()))})}),Ft().tmsectionpoplink||(Ft.fn.tmsectionpoplink=function(){if(0!==this.length)return this.each(function(){var t,e,a,i,o,r,n=Ft(this);n.data("tmsectionpoplink")||(n.data("tmsectionpoplink",!0),t=n.attr("data-sectionid"),e=It.i18n_addition_options,a=n.closest(".cpf-section[data-uniqid='"+t+"']"),i=!1,o=Ft('<div class="fl-overlay"></div>').css({zIndex:parseInt(n.zIndex,10)-1,opacity:.8}),r=function(){var t=Ft("#tm-section-pop-up");t.parents().removeClass("noanimated"),o.unbind().remove(),t.after(a),t.remove(),a.find(".tm-section-link").show(),a.find(".tm-section-pop").hide()},n.attr("data-title")&&(e=n.attr("data-title")),n.on("click.tmsectionpoplink",function(t){t.preventDefault(),i=!1,o.appendTo("body").on("click",r),a.before(Ft.epoAPI.template.html(Ct.templateEngine.tc_section_pop_link,{title:e,close:It.i18n_close})),(t=Ft("#tm-section-pop-up")).find(".float-editbox").prepend(a),a.find(".tm-section-link").hide(),a.find(".tm-section-pop").show(),t.parents().addClass("noanimated"),t.find(".floatbox-cancel").on("click",function(){i||(i=!0,r())}),Pt.trigger("tmlazy"),Pt.trigger("tmsectionpoplink")}))})}),Ft().cpfdependson||(Ft.fn.cpfdependson=function(a,i,o,c){var r=0;if(0!==this.length&&"object"==typeof a)return i=i||"show",o=o||"all",Ft.each(a,function(t,e){var n;return"object"!=typeof a||void((e=function(t){var e,a,i,o=Ft(t);if(0!==o.length){if(o.is(".cpf-section"))return t.find(".tm-epo-field");if(e=o.attr("data-uniqid"),a=(i=o.closest(".tc-extra-product-options")).attr("data-epo-id"),!i.is(".reactivate")&&Ct.getElementFromFieldCache&&Ct.getElementFromFieldCache[a]&&Ct.getElementFromFieldCache[a][e])return Ct.getElementFromFieldCache[a][e];if(0<(i=o.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!=t?t:null})).length)switch(i="cpf-type-product"===(i=i[0])?t.is(".cpf-type-product-mode-product")||t.is(".cpf-type-product-checkbox")||t.is(".cpf-type-product-thumbnailmultiple")?"cpf-type-checkbox":t.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio":i){case"cpf-type-radio":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-radio"),Ct.getElementFromFieldCache[a][e];case"cpf-type-checkbox":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-checkbox"),Ct.getElementFromFieldCache[a][e];case"cpf-type-select":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-select"),Ct.getElementFromFieldCache[a][e];case"cpf-type-selectmultiple":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-selectmultiple"),Ct.getElementFromFieldCache[a][e];case"cpf-type-textarea":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-textarea"),Ct.getElementFromFieldCache[a][e];case"cpf-type-textfield":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-textfield"),Ct.getElementFromFieldCache[a][e];case"cpf-type-color":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tm-color-picker"),Ct.getElementFromFieldCache[a][e];case"cpf-type-range":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-range"),Ct.getElementFromFieldCache[a][e];case"cpf-type-date":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-date"),Ct.getElementFromFieldCache[a][e];case"cpf-type-time":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.find(".tm-epo-field.tmcp-time"),Ct.getElementFromFieldCache[a][e];case"cpf-type-variations":return Ct.getElementFromFieldCache[a]=[],Ct.getElementFromFieldCache[a][e]=o.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),Ct.getElementFromFieldCache[a][e]}}}(e.element))&&0<e.length&&(e.each(function(t,e){var a,i,o=Ft(e),r="change.cpflogic";n&&!n.closest(".tc-extra-product-options-inline").length||(a=".tm-product-id-"+o.closest(".tc-extra-product-options").attr("data-product-id"),i="[data-epo-id='"+o.closest(".tc-extra-product-options").attr("data-epo-id")+"']",n=Ft(".tc-extra-product-options"+a+i)),e&&0<o.length&&(!o.data("tmhaslogicevents")||c)&&(o.is(".tm-epo-variation-element")?(s("found_variation.tmlogic",!1,function(){j(n),Pt.trigger("tm-do-epo-update")}),s("hide_variation.tmlogic",!1,function(){j(n),Pt.trigger("tm-do-epo-update")})):((o.is(":text")||o.is("textarea"))&&(r="change.cpflogic input.cpflogic"),o.off(r).on(r,function(){j(n)})),o.data("tmhaslogicevents",1))}),r=parseInt(r,10)+1))}),this.each(function(){var t=Ft(this),e=!1;switch(t.data("matches",r).data("toggle",i).data("what",o).data("fields",a),i){case"show":e=!1;break;case"hide":e=!0}e?t.removeClass("tc-hidden"):t.addClass("tc-hidden"),t.data("isactive",e)}),this.addClass("iscpfdependson").data("iscpfdependson",1),this.each(function(){Ft(this).addClass("is-epo-depend")})},Ft.fn.run_cpfdependson=function(){j()}),Ft.tcepo={formSubmitEvents:{},oneOptionIsSelected:{},initialActivation:{},lateFieldsPrices:{},errorObject:{}},Ft.tcepo.tm_init_epo=function(t,e,a,i){Qt(t,e,a,i)},Ft.tcepo.tmLazyloadContainer=function(t){g=t},Pt.on("tc_manual_init",function(t,e){var a,i,o,r;"container"in e&&"reactivate"in e&&(r=e.reactivate,e=e.container),i=r,o=Ft(a=e),r=o.attr("data-product-id"),e=o.attr("data-epo-id"),Qt(a=(a=!(a=o.parent()).is("form")&&!(a=o.closest("form")).is("form")?o.parent():a).parent(),!1,r,e,void 0,void 0,i)}),Ft(function(){Ct=Ft.epoAPI.applyFilter("tc_api",Ct),Pt.on("lazyLoadXToncomplete",function(){Ft(".tm-owl-slider").each(function(){Ft(this).trigger("refresh.owl.carousel")})}),Pt.on("tc_init_epo_plugin",function(t){$t()}),Pt.on("tcShowLastError",function(){k.console.log(b)}),Ft(".ajax_add_to_cart").on("click.tcajax",function(){m=Ft(this)}),Ft.ajaxPrefilter(function(e,a){var t,i,o,r,n,c,l,d,s,p=!1;if("yes"===It.tm_epo_enable_in_shop&&(c=e.url.split("?"))&&1<=c.length&&(c=c[1])){for(t=c.split("&"),i=0;i<t.length;i+=1)1<=(o=t[i].split("=")).length&&o[0]&&o[1]&&"wc-ajax"===o[0]&&"add_to_cart"===o[1]&&(p=!0);p&&(e.originalsuccess=e.success,e.success=function(t){t&&t.error&&t.product_url?(m&&1===m.length&&(r=m),(r=Ft(".ajax_add_to_cart[data-product_id='"+a.data.product_id+"']")).removeClass("added"),r.removeClass("loading")):e.originalsuccess.call(null,t)})}FormData&&a.data&&(l=a.data,"string"==typeof a.data&&(l=Ft.epoAPI.util.parseParams(a.data)),n=[],a.url&&a.url.indexOf&&(n=Ft.epoAPI.util.parseParams(a.url.slice(a.url.indexOf("?")+1))),"quantity"in l&&(l.product_id||l["add-to-cart"]||n.product_id||n["add-to-cart"]||l.tcaddtocart)&&(c=l.product_id||l["add-to-cart"]||n.product_id||n["add-to-cart"]||l.tcaddtocart,1===(n=1<(n=m&&1===m.length&&1===m.closest(".tm-has-options").length?m.closest(".tm-has-options").find(".tc-extra-product-options.tm-product-id-"+c):Ft(".tc-extra-product-options.tm-product-id-"+c)).length?n.filter(".formepo")?n.filter(".formepo"):n.first():n).length&&(l={tcajax:1,tcaddtocart:c,cpf_product_price:Ft(".tc-totals-form.tm-product-id-"+c).find(".cpf-product-price").val()},(c=Ft(".tc-totals-form.tm-product-id-"+c).find(".tc_form_prefix").val())&&(l.tc_form_prefix=c),e.data=Ft.epoAPI.util.parseParams(e.data,!0),e.data=Ft.extend(e.data,n.tcSerializeObject(),l),d=e.data,s=new FormData,Object.keys(d).forEach(function(t){s.append(t,d[t])}),n.find(":file").toArray().forEach(function(t){for(i=0;i<Ft(t)[0].files.length;i++)s.append(Ft(t).attr("name"),Ft(t)[0].files[i])}),e.data=s,e.contentType=!1,e.cache=!1,e.processData=!1)))}),P.ajaxSuccess(function(t,e,i){var a,o,r,n,c,l,d,s,p=It.quickview_array||"null",m=It.quickview_container||"null",_={},f=1,u=Ft.epoAPI.util.parseParams(i.data);if("wc_epo_get_associated_product_html"!==u.action){for(a in Ft(".tm-formepo-normal").remove(),Ft(".tm-formepo").remove(),Ft(".tm-cart-link").tmpoplink(),p=Ft.epoAPI.util.parseJSON(p),m=Ft.epoAPI.util.parseJSON(m))Object.prototype.hasOwnProperty.call(m,a)&&(_[m[a][0]]=Ft(m[a][1]));Ft.extend(p,_),d=function(){var e=!1;return Object.keys(p).forEach(function(t){Ft(p[t]).length&&(e=t)}),e},(s=function(t){var e=requestAnimationFrame(function(){setTimeout(function(){s(t-1)},200)}),a=d();if((a||0===t)&&(cancelAnimationFrame(e),a))return c=!1,o=Ft(p[a]),!("woothemes_quick_view"!==a||!o.is(".fusion-woocommerce-quick-view-container"))||("fusion_quick_view_load"===a&&0===o.find(Ct.epoSelector).length||("woodmart_quick_shop"===a&&"woodmart_quick_shop"===(u=Ft.epoAPI.util.parseParams(i.url)).action&&(l=Ft(Ft.epoAPI.util.escapeSelector(p[a]+".post-"+u.id))).length&&(o=l,c=!0),"woodmart_quick_view"===a&&"woodmart_quick_view"===(u=Ft.epoAPI.util.parseParams(i.url)).action&&(l=Ft(Ft.epoAPI.util.escapeSelector(p[a]+".post-"+u.id))).length&&(o=l,c=!0),"quickview_pro"===a&&(u=i.url.split("/")).length&&(l=Ft(Ft.epoAPI.util.escapeSelector(p[a]+" .post-"+u[u.length-1]))).length&&(o=l,c=!0),"wqv_popup_content"!==a&&"wp_food"!==a&&"jet_popup_get_content"!==a||(c=!0),"woofood"===a&&i.data&&"woofood_quickview_ajax"===(u=Ft.epoAPI.util.parseParams(i.data)).action&&(l=o.find("form").parent()).length&&(o=l,c=!0),0===o.find(".product").length&&o.is(".product")&&(c=!0),void((0<o.find(".product").length||c)&&(o.removeClass("tc-init"),"fusion_quick_view_load"!==a&&"jet_popup_get_content"!==a&&"wp_food"!==a&&"woodmart_quick_shop"!==a&&"woodmart_quick_view"!==a&&"lightboxpro"!==a&&"jckqv_quick_view"!==a&&"yith_quick_view"!==a&&"theme_flatsome"!==a||(h=!0),g=o,"fusion_quick_view_load"===a&&(f=1400),setTimeout(function(){r=g.find(Ct.epoSelector).attr("data-product-id"),n=g.find(Ct.epoSelector).attr("data-epo-id"),"woodmart_quick_shop"===a&&o.addClass("has-options"),Ct.getElementFromFieldCache=[],Qt(g,!0,r,n),Pt.trigger("tmlazy"),Pt.trigger("tm_epo_loaded_quickview"),Ft.jMaskGlobals&&g.find(Ft.jMaskGlobals.maskElements).each(function(){var t=Ft(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})},f)))))})(10)}}),$t(),Ft(".tm-cart-link").tmpoplink(),I.on("updated_checkout",function(){Ft(".tm-cart-link").tmpoplink()}),Pt.trigger("tmlazy"),Pt.trigger("tm_epo_loaded")}),Ft(function(){var t=navigator.userAgent||navigator.vendor||k.opera;(t=-1<t.indexOf("FBAN")||-1<t.indexOf("FBAV")||-1<t.indexOf("Instagram"))&&Ft(".tmcp-upload").removeAttr("accept"),P.on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){Ft(this).closest(".quantity").find(Ct.qtySelector).trigger("change")}),Ft("#wholesale_form").on("submit",function(){var t=Ft("form.cart").find(Ct.addToCartSelector).val(),e=Ft(Ct.epoSelector+".tm-cart-main[data-product-id='"+t+"']").tcClone(),a=Ft(".tm-totals-form-main[data-product-id='"+t+"']").tcClone(),t=Ft("<div class='tm-hidden tm-formepo'></div>");return t.append(e),t.append(a),Ft(this).append(t),!0}),P.on("click","#add_to_quote",function(t){var e,a;It&&"yes"===It.tm_epo_global_enable_validation&&(a=(e=Ft(this).parents("form")).find(".tm-epo-counter").val(),a=Ft(Ct.epoSelector+"[data-epo-id='"+a+"']"),0<e.length&&0<a.length&&!e.tc_validate().form()&&t.stopImmediatePropagation())}),Ft(".single_add_to_cart_button.paypal_checkout_button").on("click",function(t){var e=Ft(".cart");e.data("tc_validator")&&e.data("tc_validator").errorList&&t.stopImmediatePropagation()}),Ft(".wc-product-table").on("init.wcpt",function(t,e){e.$table.find(Ct.epoSelector).addClass("hidden"),e.$table.find("thead tr").append("<th>&nbsp;</th>"),setTimeout(function(){e.$table.find(".cart:not(.cart_group)").each(function(){var t=Ft(this).find(Ct.epoSelector),e=t.closest("tr");Ft("<td class='wc-product-table-epo'></td>").appendTo(e).append(t),Ft(k).trigger("tc_manual_init",t),t.removeClass("hidden")})},500)})}))}(window,document,window.jQuery);